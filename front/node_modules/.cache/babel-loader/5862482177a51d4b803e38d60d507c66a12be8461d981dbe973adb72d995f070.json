{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\danii\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\School\\\\school-app\\\\front\\\\src\\\\AdminDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jwtDecode } from 'jwt-decode';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './AdminDashboard.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AdminDashboard = () => {\n  _s();\n  const API_URL = \"http://localhost:5000/api\";\n  const navigate = useNavigate();\n\n  // Состояния для управления интерфейсом\n  const [activeTab, setActiveTab] = useState('teachers');\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showLogoutModal, setShowLogoutModal] = useState(false);\n  const [modalType, setModalType] = useState('');\n  const [editId, setEditId] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  // ——— ВКЛАДКА “УСПЕВАЕМОСТЬ” ———\n  const [selectedClassForGrades, setSelectedClassForGrades] = useState('');\n  const [studentsAverages, setStudentsAverages] = useState([]);\n  const [expandedStudent, setExpandedStudent] = useState(null);\n  const [newGradeEntry, setNewGradeEntry] = useState({\n    subjectId: '',\n    grade: ''\n  });\n  // Новое состояние для редактирования оценки\n  const [editingGrade, setEditingGrade] = useState({\n    id: null,\n    value: ''\n  });\n\n  // Основные данные\n  const [teachers, setTeachers] = useState([]);\n  const [students, setStudents] = useState([]);\n  const [grades, setGrades] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [classrooms, setClassrooms] = useState([]);\n  const [subjects, setSubjects] = useState([]);\n  const [stats, setStats] = useState({\n    worstSubject: '',\n    failingStudents: 0,\n    worstTeacher: '',\n    classAverages: {},\n    bestClass: '',\n    worstClass: ''\n  });\n\n  // Состояния для форм\n  const [selectedUserId, setSelectedUserId] = useState('');\n  const [fullName, setFullName] = useState('');\n  const [classroomNumber, setClassroomNumber] = useState('');\n  const [newStudent, setNewStudent] = useState({\n    name: '',\n    class: '',\n    userId: '',\n    userQuery: ''\n  });\n  const [newGrades, setNewGrades] = useState({\n    student: '',\n    subject1: '',\n    subject2: '',\n    subject3: ''\n  });\n  const [newUser, setNewUser] = useState({\n    username: '',\n    password: '',\n    confirmPassword: '',\n    role: 'User'\n  });\n  const [newClass, setNewClass] = useState({\n    name: '',\n    academicYear: '',\n    roomNumber: ''\n  });\n  const [newSubject, setNewSubject] = useState({\n    name: '',\n    teacherId: '',\n    teacherQuery: ''\n  });\n\n  // Пагинация\n  const [pagination, setPagination] = useState({\n    teachers: {\n      page: 1,\n      perPage: 10,\n      total: 0\n    },\n    students: {\n      page: 1,\n      perPage: 10,\n      total: 0\n    },\n    grades: {\n      page: 1,\n      perPage: 10,\n      total: 0\n    },\n    users: {\n      page: 1,\n      perPage: 10,\n      total: 0\n    },\n    classrooms: {\n      page: 1,\n      perPage: 10,\n      total: 0\n    },\n    subjects: {\n      page: 1,\n      perPage: 10,\n      total: 0\n    }\n  });\n\n  // Фильтры\n  const [filters, setFilters] = useState({\n    teachers: {\n      room: ''\n    },\n    students: {\n      class: ''\n    },\n    grades: {\n      subject: '',\n      minGrade: '',\n      maxGrade: ''\n    },\n    users: {\n      role: ''\n    },\n    classrooms: {\n      academicYear: ''\n    },\n    subjects: {\n      teacher: ''\n    }\n  });\n\n  // Проверка авторизации и роли\n  useEffect(() => {\n    const token = localStorage.getItem('authToken');\n    if (!token) {\n      navigate('/');\n      toast.warning('Доступ запрещен. Требуется вход в систему.');\n      return;\n    }\n    const {\n      role\n    } = jwtDecode(token);\n    if (role !== 'Admin') {\n      navigate('/');\n      toast.warning('Доступ запрещен. Требуются права администратора.');\n    }\n  }, [navigate]);\n\n  // один раз при монтировании\n  useEffect(() => {\n    fetchClassrooms();\n  }, []);\n\n  // Загрузка данных при монтировании и смене вкладки\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        setIsLoading(true);\n        switch (activeTab) {\n          case 'teachers':\n            await Promise.all([fetchTeachers(), fetchUsers(pagination.users.page, 'Teacher')]);\n            break;\n          case 'students':\n            await Promise.all([fetchStudents(), fetchClassrooms()]);\n            break;\n          case 'grades':\n            await Promise.all([fetchStudents(pagination.students.page), fetchGrades(), fetchSubjects()]);\n            break;\n          case 'stats':\n            await fetchStats();\n            break;\n          case 'users':\n            await fetchUsers();\n            break;\n          case 'classrooms':\n            await fetchClassrooms();\n            break;\n          case 'subjects':\n            await fetchSubjects();\n            break;\n          default:\n            break;\n        }\n      } catch (err) {\n        setError(err.message);\n        toast.error(`Ошибка загрузки данных: ${err.message}`);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    loadData();\n  }, [activeTab]);\n\n  // API функции\n  const fetchTeachers = async (page = 1) => {\n    try {\n      const response = await axios.get(`${API_URL}/teacher`, {\n        params: {\n          page,\n          limit: pagination.teachers.perPage,\n          search: searchTerm,\n          ...filters.teachers\n        },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      setTeachers(response.data.teachers);\n      setPagination(prev => ({\n        ...prev,\n        teachers: {\n          ...prev.teachers,\n          page,\n          total: response.data.totalCount\n        }\n      }));\n    } catch (err) {\n      toast.error('Ошибка загрузки учителей');\n      throw err;\n    }\n  };\n  const fetchStudents = async (page = 1) => {\n    try {\n      const response = await axios.get(`${API_URL}/student`, {\n        params: {\n          page,\n          limit: pagination.students.perPage,\n          search: searchTerm,\n          ...filters.students\n        },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      const studentsData = Array.isArray(response.data) ? response.data : response.data.students;\n      setStudents(studentsData);\n      setPagination(prev => ({\n        ...prev,\n        students: {\n          ...prev.students,\n          page,\n          total: studentsData.length\n        }\n      }));\n    } catch (err) {\n      toast.error('Ошибка загрузки студентов');\n      throw err;\n    }\n  };\n  const fetchGrades = async (page = 1) => {\n    try {\n      var _response$data$grades, _response$data$totalC;\n      const response = await axios.get(`${API_URL}/grade`, {\n        params: {\n          page,\n          limit: pagination.grades.perPage,\n          search: searchTerm,\n          ...filters.grades\n        },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      const gradesList = Array.isArray(response.data) ? response.data : (_response$data$grades = response.data.grades) !== null && _response$data$grades !== void 0 ? _response$data$grades : [];\n      setGrades(gradesList);\n      const total = (_response$data$totalC = response.data.totalCount) !== null && _response$data$totalC !== void 0 ? _response$data$totalC : gradesList.length;\n      setPagination(prev => ({\n        ...prev,\n        grades: {\n          ...prev.grades,\n          page,\n          total\n        }\n      }));\n    } catch (err) {\n      toast.error('Ошибка загрузки оценок');\n      throw err;\n    }\n  };\n  const computeAverages = () => {\n    if (!selectedClassForGrades) {\n      setStudentsAverages([]);\n      return;\n    }\n    const classStudents = students.filter(s => s.ClassID === selectedClassForGrades);\n    const result = classStudents.map(st => {\n      const recs = grades.filter(g => g.StudentID === st.StudentID);\n      if (recs.length === 0) {\n        return {\n          id: st.StudentID,\n          name: st.FullName,\n          average: null\n        };\n      }\n      let total = 0,\n        count = 0;\n      recs.forEach(g => {\n        total += parseFloat(g.GradeValue);\n        count += 1;\n      });\n      return {\n        id: st.StudentID,\n        name: st.FullName,\n        average: count > 0 ? total / count : null\n      };\n    });\n    setStudentsAverages(result);\n  };\n  useEffect(() => {\n    computeAverages();\n  }, [selectedClassForGrades, grades]);\n  const toggleStudent = studentId => {\n    setExpandedStudent(expandedStudent === studentId ? null : studentId);\n    setNewGradeEntry({\n      subjectId: '',\n      grade: ''\n    });\n    setEditingGrade({\n      id: null,\n      value: ''\n    }); // Сбрасываем редактирование при переключении\n  };\n  const handleAddGradeForStudent = async studentId => {\n    if (!newGradeEntry.subjectId || !newGradeEntry.grade) {\n      toast.error('Выберите предмет и оценку');\n      return;\n    }\n    try {\n      await axios.post(`${API_URL}/grade`, {\n        StudentID: studentId,\n        SubjectID: newGradeEntry.subjectId,\n        GradeValue: newGradeEntry.grade\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      toast.success('Оценка добавлена');\n      await fetchGrades();\n    } catch (e) {\n      toast.error('Ошибка при добавлении оценки');\n    }\n  };\n\n  // Новые хэндлеры для редактирования оценки\n  const startEditGrade = (gradeId, currentValue) => {\n    setEditingGrade({\n      id: gradeId,\n      value: currentValue\n    });\n  };\n  const cancelEditGrade = () => {\n    setEditingGrade({\n      id: null,\n      value: ''\n    });\n  };\n  const saveEditGrade = async gradeId => {\n    try {\n      await axios.put(`${API_URL}/grade/${gradeId}`, {\n        GradeValue: editingGrade.value\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      toast.success('Оценка обновлена');\n      cancelEditGrade();\n      fetchGrades();\n    } catch {\n      toast.error('Ошибка при обновлении оценки');\n    }\n  };\n  const fetchUsers = async (page = 1) => {\n    try {\n      const res = await axios.get(`${API_URL}/user`, {\n        params: {\n          page,\n          limit: pagination.users.perPage,\n          search: searchTerm,\n          role: filters.users.role,\n          sortBy: 'UserID',\n          order: 'asc'\n        },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      const totalHeader = res.headers['x-total-count'] || res.headers['X-Total-Count'];\n      const totalCount = parseInt(totalHeader, 10);\n      setUsers([...res.data].sort((a, b) => a.UserID - b.UserID));\n      setPagination(prev => ({\n        ...prev,\n        users: {\n          ...prev.users,\n          page,\n          total: isNaN(totalCount) ? 0 : totalCount\n        }\n      }));\n    } catch (err) {\n      toast.error('Ошибка загрузки пользователей');\n      throw err;\n    }\n  };\n  const fetchClassrooms = async (page = 1) => {\n    try {\n      const response = await axios.get(`${API_URL}/class`, {\n        params: {\n          page,\n          limit: pagination.classrooms.perPage,\n          search: searchTerm,\n          ...filters.classrooms\n        },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      setClassrooms(response.data.classes || []);\n      setPagination(prev => ({\n        ...prev,\n        classrooms: {\n          ...prev.classrooms,\n          page,\n          total: response.data.totalCount || 0\n        }\n      }));\n    } catch (err) {\n      console.error('Error fetching classrooms:', err);\n      toast.error('Ошибка загрузки классов');\n      throw err;\n    }\n  };\n  const fetchSubjects = async (page = 1) => {\n    try {\n      const res = await axios.get(`${API_URL}/subject`, {\n        params: {\n          page,\n          limit: pagination.subjects.perPage,\n          search: searchTerm,\n          teacher: filters.subjects.teacher\n        },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      const list = Array.isArray(res.data) ? res.data : res.data.subjects;\n      setSubjects(list);\n      const total = parseInt(res.headers['x-total-count'] || list.length, 10);\n      setPagination(prev => ({\n        ...prev,\n        subjects: {\n          page,\n          perPage: prev.subjects.perPage,\n          total\n        }\n      }));\n    } catch (err) {\n      toast.error('Ошибка загрузки предметов');\n      throw err;\n    }\n  };\n  const fetchStats = async () => {\n    try {\n      var _worstSubject$data, _worstTeacher$data$;\n      const [failing, worstTeacher, classStats, worstSubject] = await Promise.all([axios.get(`${API_URL}/report/failing`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      }), axios.get(`${API_URL}/report/worst-teacher`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      }), axios.get(`${API_URL}/report/class`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      }), axios.get(`${API_URL}/report/worst-subject`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      })]);\n      setStats({\n        worstSubject: (worstSubject === null || worstSubject === void 0 ? void 0 : (_worstSubject$data = worstSubject.data) === null || _worstSubject$data === void 0 ? void 0 : _worstSubject$data.SubjectName) || 'Нет данных',\n        failingStudents: failing.data.count || 0,\n        worstTeacher: ((_worstTeacher$data$ = worstTeacher.data[0]) === null || _worstTeacher$data$ === void 0 ? void 0 : _worstTeacher$data$.name) || 'Нет данных',\n        classAverages: classStats.data.reduce((acc, curr) => {\n          acc[curr.className] = parseFloat(curr.average);\n          return acc;\n        }, {}),\n        bestClass: classStats.data.length > 0 ? classStats.data.reduce((prev, current) => prev.average > current.average ? prev : current).className : 'Нет данных',\n        worstClass: classStats.data.length > 0 ? classStats.data.reduce((prev, current) => prev.average < current.average ? prev : current).className : 'Нет данных'\n      });\n    } catch (err) {\n      toast.error('Ошибка загрузки статистики');\n      throw err;\n    }\n  };\n\n  // Функция для добавления/редактирования\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      setIsLoading(true);\n      setError(null);\n      if (modalType === 'teacher') {\n        if (!selectedUserId || !fullName.trim()) {\n          toast.error('Выберите пользователя и введите полное имя');\n          return;\n        }\n        const payload = {\n          UserID: selectedUserId,\n          FullName: fullName,\n          ClassroomNumber: classroomNumber || null\n        };\n        await axios.post(`${API_URL}/teacher`, payload, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('authToken')}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        toast.success('Учитель успешно назначен');\n        await fetchTeachers(pagination.teachers.page);\n      } else if (modalType === 'edit_teacher') {\n        if (!fullName.trim()) {\n          toast.error('Введите полное имя');\n          return;\n        }\n        if (!selectedUserId) {\n          toast.error('Выберите пользователя');\n          return;\n        }\n        const payload = {\n          FullName: fullName,\n          ClassroomNumber: classroomNumber || null,\n          UserID: selectedUserId\n        };\n        await axios.put(`${API_URL}/teacher/${editId}`, payload, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('authToken')}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        toast.success('Данные учителя успешно обновлены');\n        await fetchTeachers(pagination.teachers.page);\n      } else if (modalType === 'student' || modalType === 'edit_student') {\n        if (!newStudent.name.trim() || !newStudent.class || !newStudent.userId) {\n          toast.error('Заполните все поля для ученика');\n          return;\n        }\n        const selectedClass = classrooms.find(c => c.Name === newStudent.class);\n        if (!selectedClass) {\n          toast.error('Выбранный класс не найден');\n          return;\n        }\n        const payload = {\n          UserID: +newStudent.userId,\n          FullName: newStudent.name,\n          ClassID: selectedClass.ClassID\n        };\n        if (modalType === 'student') {\n          await axios.post(`${API_URL}/student`, payload, {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem('authToken')}`,\n              'Content-Type': 'application/json'\n            }\n          });\n          toast.success('Ученик успешно создан');\n        } else {\n          await axios.put(`${API_URL}/student/${editId}`, payload, {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem('authToken')}`,\n              'Content-Type': 'application/json'\n            }\n          });\n          toast.success('Данные ученика успешно обновлены');\n        }\n        await fetchStudents(pagination.students.page);\n      } else if (modalType === 'grades' || modalType === 'edit_grades') {\n        if (!newGrades.student || !newGrades.subject1 || !newGrades.subject2 || !newGrades.subject3) {\n          toast.error('Заполните все поля для оценок');\n          return;\n        }\n        if (modalType === 'grades') {\n          await axios.post(`${API_URL}/grade`, {\n            StudentName: newGrades.student,\n            Subject1Grade: newGrades.subject1,\n            Subject2Grade: newGrades.subject2,\n            Subject3Grade: newGrades.subject3\n          }, {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem('authToken')}`,\n              'Content-Type': 'application/json'\n            }\n          });\n          toast.success('Оценки успешно добавлены');\n        } else {\n          await axios.put(`${API_URL}/grade/${editId}`, {\n            StudentName: newGrades.student,\n            Subject1Grade: newGrades.subject1,\n            Subject2Grade: newGrades.subject2,\n            Subject3Grade: newGrades.subject3\n          }, {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem('authToken')}`,\n              'Content-Type': 'application/json'\n            }\n          });\n          toast.success('Оценки успешно обновлены');\n        }\n        await fetchGrades(pagination.grades.page);\n      } else if (modalType === 'class') {\n        if (!newClass.name.trim() || !newClass.academicYear || !newClass.roomNumber) {\n          toast.error('Заполните все поля для класса');\n          return;\n        }\n        await axios.post(`${API_URL}/class`, {\n          Name: newClass.name,\n          AcademicYear: newClass.academicYear,\n          RoomNumber: newClass.roomNumber\n        }, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('authToken')}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        toast.success('Класс успешно создан');\n        await fetchClassrooms(pagination.classrooms.page);\n      } else if (modalType === 'edit_class') {\n        if (!newClass.name.trim() || !newClass.academicYear || !newClass.roomNumber) {\n          toast.error('Заполните все поля для класса');\n          return;\n        }\n        await axios.put(`${API_URL}/class/${editId}`, {\n          Name: newClass.name,\n          AcademicYear: newClass.academicYear,\n          RoomNumber: newClass.roomNumber\n        }, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('authToken')}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        toast.success('Данные класса успешно обновлены');\n        await fetchClassrooms(pagination.classrooms.page);\n      } else if (modalType === 'subject') {\n        if (!newSubject.name || !newSubject.teacherId) {\n          toast.error('Введите название и выберите учителя');\n          return;\n        }\n        await axios.post(`${API_URL}/subject`, {\n          Name: newSubject.name,\n          TeacherID: newSubject.teacherId\n        }, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('authToken')}`\n          }\n        });\n        toast.success('Предмет создан');\n        await fetchSubjects(pagination.subjects.page);\n      } else if (modalType === 'edit_subject') {\n        if (!newSubject.name || !newSubject.teacherId) {\n          toast.error('Введите название и выберите учителя');\n          return;\n        }\n        await axios.put(`${API_URL}/subject/${editId}`, {\n          Name: newSubject.name,\n          TeacherID: newSubject.teacherId\n        }, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('authToken')}`\n          }\n        });\n        toast.success('Данные предмета обновлены');\n        await fetchSubjects(pagination.subjects.page);\n      }\n      setShowAddModal(false);\n      resetForm();\n    } catch (err) {\n      var _err$response, _err$response$data, _err$response2, _err$response2$data;\n      toast.error(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Ошибка при сохранении данных');\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.details) || err.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleAdd = type => {\n    setModalType(type);\n    setEditId(null);\n    setShowAddModal(true);\n    setError(null);\n    resetForm();\n  };\n  const handleEdit = (type, id) => {\n    let data;\n    if (type === 'teacher') {\n      data = teachers.find(t => t.TeacherID === id);\n      setFullName(data.FullName);\n      setClassroomNumber(data.ClassroomNumber || '');\n      setSelectedUserId(data.UserID);\n    } else if (type === 'student') {\n      var _users$find;\n      const data = students.find(s => s.StudentID === id);\n      setNewStudent({\n        name: data.FullName,\n        class: data.ClassName,\n        userId: data.UserID,\n        userQuery: ((_users$find = users.find(u => u.UserID === data.UserID)) === null || _users$find === void 0 ? void 0 : _users$find.Username) || ''\n      });\n    } else if (type === 'grades') {\n      data = grades.find(g => g.id === id);\n      setNewGrades({\n        student: data.studentName,\n        subject1: data.subject1Grade,\n        subject2: data.subject2Grade,\n        subject3: data.subject3Grade\n      });\n    } else if (type === 'user') {\n      data = users.find(u => u.UserID === id);\n      setNewUser({\n        username: data.Username,\n        password: '',\n        confirmPassword: '',\n        role: data.Role\n      });\n    } else if (type === 'class') {\n      data = classrooms.find(c => c.ClassID === id);\n      setNewClass({\n        name: data.Name,\n        academicYear: data.AcademicYear,\n        roomNumber: data.RoomNumber\n      });\n    } else if (type === 'subject') {\n      data = subjects.find(s => s.SubjectID === id);\n      setNewSubject({\n        name: data.Name,\n        teacherId: data.TeacherID,\n        teacherQuery: data.TeacherName\n      });\n    }\n    setModalType(`edit_${type}`);\n    setEditId(id);\n    setShowAddModal(true);\n  };\n  const handleDelete = async (id, type) => {\n    try {\n      setIsLoading(true);\n      if (!window.confirm(`Вы уверены, что хотите удалить этот ${type === 'teacher' ? 'учитель' : type === 'student' ? 'ученик' : type === 'user' ? 'пользователь' : type === 'class' ? 'класс' : type === 'subject' ? 'предмет' : 'оценку'}?`)) {\n        return;\n      }\n      await axios.delete(`${API_URL}/${type}/${id}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      toast.success(`Успешно удалено!`);\n      if (type === 'teacher') await fetchTeachers(pagination.teachers.page);else if (type === 'student') await fetchStudents(pagination.students.page);else if (type === 'user') await fetchUsers(pagination.users.page);else if (type === 'class') await fetchClassrooms(pagination.classrooms.page);else if (type === 'subject') await fetchSubjects(pagination.subjects.page);else await fetchGrades(pagination.grades.page);\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      toast.error(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || 'Ошибка при удалении');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleUserSubmit = async e => {\n    e.preventDefault();\n    try {\n      setIsLoading(true);\n      if (!newUser.username || !newUser.role || modalType === 'user' && (!newUser.password || !newUser.confirmPassword)) {\n        toast.error('Заполните все обязательные поля');\n        return;\n      }\n      if (modalType === 'user' && newUser.password !== newUser.confirmPassword) {\n        toast.error('Пароли не совпадают');\n        return;\n      }\n      if (modalType === 'user' && newUser.password.length < 6) {\n        toast.error('Пароль должен быть не менее 6 символов');\n        return;\n      }\n      if (modalType === 'edit_user') {\n        const payload = {\n          Username: newUser.username,\n          Role: newUser.role\n        };\n        if (newUser.password && newUser.confirmPassword) {\n          if (newUser.password !== newUser.confirmPassword) {\n            toast.error('Пароли не совпадают');\n            return;\n          }\n          if (newUser.password.length < 6) {\n            toast.error('Пароль должен быть не менее 6 символов');\n            return;\n          }\n          payload.password = newUser.password;\n        }\n        await axios.put(`${API_URL}/user/${editId}`, payload, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('authToken')}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        toast.success('Пользователь обновлен');\n      } else {\n        await axios.post(`${API_URL}/user`, {\n          username: newUser.username,\n          password: newUser.password,\n          role: newUser.role\n        }, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('authToken')}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        toast.success('Пользователь успешно создан');\n      }\n      await fetchUsers(pagination.users.page);\n      setShowAddModal(false);\n      resetForm();\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      toast.error(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || 'Ошибка при сохранении пользователя');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const resetForm = () => {\n    setSelectedUserId('');\n    setFullName('');\n    setClassroomNumber('');\n    setNewStudent({\n      name: '',\n      class: '',\n      userId: '',\n      userQuery: ''\n    });\n    setNewGrades({\n      student: '',\n      subject1: '',\n      subject2: '',\n      subject3: ''\n    });\n    setNewUser({\n      username: '',\n      password: '',\n      confirmPassword: '',\n      role: 'User'\n    });\n    setNewClass({\n      name: '',\n      academicYear: '',\n      roomNumber: ''\n    });\n    setNewSubject({\n      name: '',\n      teacherId: '',\n      teacherQuery: ''\n    });\n    setEditId(null);\n    setEditingGrade({\n      id: null,\n      value: ''\n    }); // Сбрасываем редактирование\n  };\n  const exportData = async type => {\n    try {\n      setIsLoading(true);\n      const response = await axios.get(`${API_URL}/export/${type}`, {\n        responseType: 'blob',\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `${type}_export_${new Date().toISOString().split('T')[0]}.xlsx`);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n      toast.success(`Данные ${type} успешно экспортированы`);\n    } catch (err) {\n      var _err$response5, _err$response5$data;\n      toast.error(`Ошибка экспорта: ${((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.message) || err.message}`);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const filteredData = (data, type) => {\n    if (!data) return [];\n    return data.filter(item => {\n      var _item$FullName, _item$className, _item$studentName, _item$Username, _item$Name, _item$TeacherName, _classrooms$find, _item$ClassroomNumber, _item$subject1Name, _item$subject2Name, _item$subject3Name, _item$Role, _item$AcademicYear, _item$TeacherName2;\n      const matchesSearch = ((_item$FullName = item.FullName) === null || _item$FullName === void 0 ? void 0 : _item$FullName.toLowerCase().includes(searchTerm.toLowerCase())) || ((_item$className = item.className) === null || _item$className === void 0 ? void 0 : _item$className.toLowerCase().includes(searchTerm.toLowerCase())) || ((_item$studentName = item.studentName) === null || _item$studentName === void 0 ? void 0 : _item$studentName.toLowerCase().includes(searchTerm.toLowerCase())) || ((_item$Username = item.Username) === null || _item$Username === void 0 ? void 0 : _item$Username.toLowerCase().includes(searchTerm.toLowerCase())) || ((_item$Name = item.Name) === null || _item$Name === void 0 ? void 0 : _item$Name.toLowerCase().includes(searchTerm.toLowerCase())) || ((_item$TeacherName = item.TeacherName) === null || _item$TeacherName === void 0 ? void 0 : _item$TeacherName.toLowerCase().includes(searchTerm.toLowerCase()));\n      const studentClassName = type === 'students' ? ((_classrooms$find = classrooms.find(c => c.ClassID === item.ClassID)) === null || _classrooms$find === void 0 ? void 0 : _classrooms$find.Name) || '' : '';\n      const matchesFilters = (type !== 'teachers' || !filters.teachers.room || ((_item$ClassroomNumber = item.ClassroomNumber) === null || _item$ClassroomNumber === void 0 ? void 0 : _item$ClassroomNumber.toString().includes(filters.teachers.room))) && (type !== 'students' || !filters.students.class || studentClassName.toLowerCase().includes(filters.students.class.toLowerCase())) && (type !== 'grades' || (!filters.grades.subject || ((_item$subject1Name = item.subject1Name) === null || _item$subject1Name === void 0 ? void 0 : _item$subject1Name.includes(filters.grades.subject)) || ((_item$subject2Name = item.subject2Name) === null || _item$subject2Name === void 0 ? void 0 : _item$subject2Name.includes(filters.grades.subject)) || ((_item$subject3Name = item.subject3Name) === null || _item$subject3Name === void 0 ? void 0 : _item$subject3Name.includes(filters.grades.subject))) && (!filters.grades.minGrade || item.subject1Grade >= +filters.grades.minGrade && item.subject2Grade >= +filters.grades.minGrade && item.subject3Grade >= +filters.grades.minGrade) && (!filters.grades.maxGrade || item.subject1Grade <= +filters.grades.maxGrade && item.subject2Grade <= +filters.grades.maxGrade && item.subject3Grade <= +filters.grades.maxGrade)) && (type !== 'users' || !filters.users.role || ((_item$Role = item.Role) === null || _item$Role === void 0 ? void 0 : _item$Role.includes(filters.users.role))) && (type !== 'classrooms' || !filters.classrooms.academicYear || ((_item$AcademicYear = item.AcademicYear) === null || _item$AcademicYear === void 0 ? void 0 : _item$AcademicYear.toString().includes(filters.classrooms.academicYear))) && (type !== 'subjects' || !filters.subjects.teacher || ((_item$TeacherName2 = item.TeacherName) === null || _item$TeacherName2 === void 0 ? void 0 : _item$TeacherName2.toLowerCase().includes(filters.subjects.teacher.toLowerCase())));\n      return matchesSearch && matchesFilters;\n    });\n  };\n  const handleLogout = () => {\n    setShowLogoutModal(true);\n  };\n  const confirmLogout = () => {\n    localStorage.removeItem('authToken');\n    navigate('/');\n    toast.success('Вы успешно вышли из системы');\n  };\n  const cancelLogout = () => {\n    setShowLogoutModal(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-right\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      newestOnTop: false,\n      closeOnClick: true,\n      rtl: false,\n      pauseOnFocusLoss: true,\n      draggable: true,\n      pauseOnHover: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1000,\n      columnNumber: 7\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-overlay\",\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1012,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u041F\\u0430\\u043D\\u0435\\u043B\\u044C \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1015,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-btn\",\n          onClick: handleLogout,\n          disabled: isLoading,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-arrow-left\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1022,\n            columnNumber: 13\n          }, this), \" \\u0412\\u044B\\u0439\\u0442\\u0438\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1017,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1025,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1031,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1024,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"refresh-btn\",\n          onClick: () => {\n            if (activeTab === 'teachers') {\n              fetchTeachers(pagination.teachers.page);\n              fetchUsers(pagination.users.page, 'Teacher');\n            } else if (activeTab === 'students') fetchStudents(pagination.students.page);else if (activeTab === 'grades') fetchGrades(pagination.grades.page);else if (activeTab === 'users') fetchUsers(pagination.users.page);else if (activeTab === 'classrooms') fetchClassrooms(pagination.classrooms.page);else if (activeTab === 'subjects') fetchSubjects(pagination.subjects.page);else fetchStats();\n          },\n          disabled: isLoading,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-sync-alt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1049,\n            columnNumber: 13\n          }, this), \" \\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1033,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1016,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1014,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"sidebar\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: activeTab === 'teachers' ? 'active' : '',\n            onClick: () => setActiveTab('teachers'),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-chalkboard-teacher\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1061,\n              columnNumber: 15\n            }, this), \" \\u0423\\u0447\\u0438\\u0442\\u0435\\u043B\\u044F\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1057,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: activeTab === 'students' ? 'active' : '',\n            onClick: () => setActiveTab('students'),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-user-graduate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1067,\n              columnNumber: 15\n            }, this), \" \\u0423\\u0447\\u0435\\u043D\\u0438\\u043A\\u0438\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1063,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: activeTab === 'grades' ? 'active' : '',\n            onClick: () => setActiveTab('grades'),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-clipboard-list\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1073,\n              columnNumber: 15\n            }, this), \" \\u0423\\u0441\\u043F\\u0435\\u0432\\u0430\\u0435\\u043C\\u043E\\u0441\\u0442\\u044C\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1069,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: activeTab === 'stats' ? 'active' : '',\n            onClick: () => setActiveTab('stats'),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-chart-bar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1079,\n              columnNumber: 15\n            }, this), \" \\u0421\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1075,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: activeTab === 'users' ? 'active' : '',\n            onClick: () => setActiveTab('users'),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-users\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1085,\n              columnNumber: 15\n            }, this), \" \\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1081,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: activeTab === 'classrooms' ? 'active' : '',\n            onClick: () => setActiveTab('classrooms'),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-school\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1091,\n              columnNumber: 15\n            }, this), \" \\u041A\\u043B\\u0430\\u0441\\u0441\\u044B\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1087,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: activeTab === 'subjects' ? 'active' : '',\n            onClick: () => setActiveTab('subjects'),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-book\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1097,\n              columnNumber: 15\n            }, this), \" \\u041F\\u0440\\u0435\\u0434\\u043C\\u0435\\u0442\\u044B\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1093,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1056,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1055,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"content\",\n        children: [activeTab === 'teachers' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0443\\u0447\\u0438\\u0442\\u0435\\u043B\\u0435\\u0439\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1106,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"export-btn\",\n                onClick: () => exportData('teachers'),\n                disabled: isLoading,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-file-export\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1113,\n                  columnNumber: 21\n                }, this), \" \\u042D\\u043A\\u0441\\u043F\\u043E\\u0440\\u0442\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1108,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"add-btn\",\n                onClick: () => handleAdd('teacher'),\n                disabled: isLoading,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-plus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1120,\n                  columnNumber: 21\n                }, this), \" \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1115,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1107,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1105,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filters\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440 \\u043F\\u043E \\u043A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\\u0443\",\n              value: filters.teachers.room,\n              onChange: e => setFilters({\n                ...filters,\n                teachers: {\n                  ...filters.teachers,\n                  room: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1126,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1125,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-container\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"TeacherID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1144,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"UserID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1145,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0424\\u0418\\u041E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1146,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u041A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1147,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1148,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1143,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1142,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: filteredData(teachers, 'teachers').map(teacher => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: teacher.TeacherID\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1154,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: teacher.UserID\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1155,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: teacher.FullName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1156,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: teacher.ClassroomNumber\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1157,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"actions\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"edit-btn\",\n                      onClick: () => handleEdit('teacher', teacher.TeacherID),\n                      disabled: isLoading,\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1164,\n                        columnNumber: 29\n                      }, this), \" \\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1159,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"delete-btn\",\n                      onClick: () => handleDelete(teacher.TeacherID, 'teacher'),\n                      disabled: isLoading,\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-trash\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1171,\n                        columnNumber: 29\n                      }, this), \" \\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1166,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1158,\n                    columnNumber: 25\n                  }, this)]\n                }, teacher.TeacherID, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1153,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1151,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1141,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1140,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pagination\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => fetchTeachers(pagination.teachers.page - 1),\n              disabled: pagination.teachers.page <= 1 || isLoading,\n              children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1181,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \", pagination.teachers.page, \" \\u0438\\u0437 \", ' ', Math.ceil(pagination.teachers.total / pagination.teachers.perPage)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1187,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => fetchTeachers(pagination.teachers.page + 1),\n              disabled: pagination.teachers.page * pagination.teachers.perPage >= pagination.teachers.total || isLoading,\n              children: \"\\u0412\\u043F\\u0435\\u0440\\u0435\\u0434\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1191,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1180,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1104,\n          columnNumber: 13\n        }, this), activeTab === 'students' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0443\\u0447\\u0435\\u043D\\u0438\\u043A\\u043E\\u0432\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1207,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"export-btn\",\n                onClick: () => exportData('students'),\n                disabled: isLoading,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-file-export\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1214,\n                  columnNumber: 21\n                }, this), \" \\u042D\\u043A\\u0441\\u043F\\u043E\\u0440\\u0442\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1209,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"add-btn\",\n                onClick: () => handleAdd('student'),\n                disabled: isLoading,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-plus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1221,\n                  columnNumber: 21\n                }, this), \" \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1216,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1208,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1206,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filters\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440 \\u043F\\u043E \\u043A\\u043B\\u0430\\u0441\\u0441\\u0443\",\n              value: filters.students.class,\n              onChange: e => setFilters({\n                ...filters,\n                students: {\n                  ...filters.students,\n                  class: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1227,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1226,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-container\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1245,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0424\\u0418\\u041E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1246,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u041A\\u043B\\u0430\\u0441\\u0441\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1247,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1248,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1244,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1243,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: filteredData(students, 'students').map(student => {\n                  const cls = classrooms.find(c => c.ClassID === student.ClassID);\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: student.StudentID\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1256,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: student.FullName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1257,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: cls ? cls.Name : '—'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1258,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"actions\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"edit-btn\",\n                        onClick: () => handleEdit('student', student.StudentID),\n                        disabled: isLoading,\n                        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fas fa-edit\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1265,\n                          columnNumber: 31\n                        }, this), \" \\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1260,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"delete-btn\",\n                        onClick: () => handleDelete(student.StudentID, 'student'),\n                        disabled: isLoading,\n                        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fas fa-trash\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1272,\n                          columnNumber: 31\n                        }, this), \" \\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1267,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1259,\n                      columnNumber: 27\n                    }, this)]\n                  }, student.StudentID, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1255,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1251,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1242,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1241,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pagination\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => fetchStudents(pagination.students.page - 1),\n              disabled: pagination.students.page <= 1 || isLoading,\n              children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1283,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \", pagination.students.page, \" \\u0438\\u0437 \", ' ', Math.ceil(pagination.students.total / pagination.students.perPage)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1289,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => fetchStudents(pagination.students.page + 1),\n              disabled: pagination.students.page * pagination.students.perPage >= pagination.students.total || isLoading,\n              children: \"\\u0412\\u043F\\u0435\\u0440\\u0435\\u0434\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1293,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1282,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1205,\n          columnNumber: 13\n        }, this), activeTab === 'grades' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\u0423\\u0441\\u043F\\u0435\\u0432\\u0430\\u0435\\u043C\\u043E\\u0441\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1309,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filters\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041A\\u043B\\u0430\\u0441\\u0441:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1311,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: selectedClassForGrades,\n                onChange: e => {\n                  setSelectedClassForGrades(+e.target.value);\n                  setExpandedStudent(null);\n                },\n                disabled: isLoading,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\u2014 \\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043A\\u043B\\u0430\\u0441\\u0441 \\u2014\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1320,\n                  columnNumber: 21\n                }, this), classrooms.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: c.ClassID,\n                  children: [c.Name, \" (\", c.AcademicYear, \")\"]\n                }, c.ClassID, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1322,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1312,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1310,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1308,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-container\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0423\\u0447\\u0435\\u043D\\u0438\\u043A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1334,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0421\\u0440\\u0435\\u0434\\u043D\\u0438\\u0439 \\u0431\\u0430\\u043B\\u043B \\u043F\\u043E \\u0432\\u0441\\u0435\\u043C \\u043F\\u0440\\u0435\\u0434\\u043C\\u0435\\u0442\\u0430\\u043C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1335,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1336,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1333,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1332,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: studentsAverages.map(s => /*#__PURE__*/_jsxDEV(React.Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: s.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1343,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: s.average != null ? s.average.toFixed(2) : '—'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1344,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"actions\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"edit-btn\",\n                        onClick: () => toggleStudent(s.id),\n                        disabled: isLoading,\n                        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fas fa-edit\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1351,\n                          columnNumber: 31\n                        }, this), \" \\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1346,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1345,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1342,\n                    columnNumber: 25\n                  }, this), expandedStudent === s.id && /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"accordion-row\",\n                    children: /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: 3,\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"accordion-content\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"grades-header\",\n                          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                            children: \"\\u041E\\u0446\\u0435\\u043D\\u043A\\u0438 \\u043F\\u043E \\u043F\\u0440\\u0435\\u0434\\u043C\\u0435\\u0442\\u0430\\u043C\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1361,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"average-grade\",\n                            children: [\"\\u0421\\u0440\\u0435\\u0434\\u043D\\u0438\\u0439 \\u0431\\u0430\\u043B\\u043B: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                              children: s.average != null ? s.average.toFixed(2) : '—'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1363,\n                              columnNumber: 51\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1362,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1360,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"grades-container\",\n                          children: [grades.filter(g => g.StudentID === s.id).map(g => /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"grade-item\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"subject-name\",\n                              children: g.SubjectName\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1372,\n                              columnNumber: 41\n                            }, this), editingGrade.id === g.GradeID ? /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"grade-edit\",\n                              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                                value: editingGrade.value,\n                                onChange: e => setEditingGrade(prev => ({\n                                  ...prev,\n                                  value: e.target.value\n                                })),\n                                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                                  value: \"5\",\n                                  children: \"5 (\\u041E\\u0442\\u043B\\u0438\\u0447\\u043D\\u043E)\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1380,\n                                  columnNumber: 47\n                                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                                  value: \"4\",\n                                  children: \"4 (\\u0425\\u043E\\u0440\\u043E\\u0448\\u043E)\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1381,\n                                  columnNumber: 47\n                                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                                  value: \"3\",\n                                  children: \"3 (\\u0423\\u0434\\u043E\\u0432\\u043B\\u0435\\u0442\\u0432\\u043E\\u0440\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E)\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1382,\n                                  columnNumber: 47\n                                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                                  value: \"2\",\n                                  children: \"2 (\\u041D\\u0435\\u0443\\u0434\\u043E\\u0432\\u043B\\u0435\\u0442\\u0432\\u043E\\u0440\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E)\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1383,\n                                  columnNumber: 47\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1376,\n                                columnNumber: 45\n                              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                onClick: () => saveEditGrade(g.GradeID),\n                                children: \"\\uD83D\\uDCBE\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1385,\n                                columnNumber: 45\n                              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                onClick: cancelEditGrade,\n                                children: \"\\u2716\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1386,\n                                columnNumber: 45\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1375,\n                              columnNumber: 43\n                            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"grade-display\",\n                              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"grade-value\",\n                                children: g.GradeValue\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1390,\n                                columnNumber: 45\n                              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                onClick: () => startEditGrade(g.GradeID, g.GradeValue),\n                                className: \"edit-grade-btn\",\n                                children: \"\\u270E\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1391,\n                                columnNumber: 45\n                              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                onClick: () => handleDelete(g.GradeID, 'grade'),\n                                className: \"delete-grade-btn\",\n                                children: \"\\uD83D\\uDDD1\\uFE0F\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1397,\n                                columnNumber: 45\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1389,\n                              columnNumber: 43\n                            }, this)]\n                          }, g.GradeID, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1371,\n                            columnNumber: 39\n                          }, this)), grades.filter(g => g.StudentID === s.id).length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"no-grades\",\n                            children: \"\\u041E\\u0446\\u0435\\u043D\\u043E\\u043A \\u0435\\u0449\\u0451 \\u043D\\u0435\\u0442\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1409,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1367,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"add-grade-form\",\n                          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                            children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u0443\\u044E \\u043E\\u0446\\u0435\\u043D\\u043A\\u0443\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1414,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"form-row\",\n                            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                              className: \"form-select\",\n                              value: newGradeEntry.subjectId,\n                              onChange: e => setNewGradeEntry(prev => ({\n                                ...prev,\n                                subjectId: e.target.value\n                              })),\n                              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                                value: \"\",\n                                children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0440\\u0435\\u0434\\u043C\\u0435\\u0442\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1424,\n                                columnNumber: 39\n                              }, this), subjects.map(subj => /*#__PURE__*/_jsxDEV(\"option\", {\n                                value: subj.SubjectID,\n                                children: subj.Name\n                              }, subj.SubjectID, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1426,\n                                columnNumber: 41\n                              }, this))]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1416,\n                              columnNumber: 37\n                            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                              className: \"form-select\",\n                              value: newGradeEntry.grade,\n                              onChange: e => setNewGradeEntry(prev => ({\n                                ...prev,\n                                grade: e.target.value\n                              })),\n                              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                                value: \"\",\n                                children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043E\\u0446\\u0435\\u043D\\u043A\\u0443\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1440,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                                value: \"5\",\n                                children: \"5 (\\u041E\\u0442\\u043B\\u0438\\u0447\\u043D\\u043E)\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1441,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                                value: \"4\",\n                                children: \"4 (\\u0425\\u043E\\u0440\\u043E\\u0448\\u043E)\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1442,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                                value: \"3\",\n                                children: \"3 (\\u0423\\u0434\\u043E\\u0432\\u043B\\u0435\\u0442\\u0432\\u043E\\u0440\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E)\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1443,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                                value: \"2\",\n                                children: \"2 (\\u041D\\u0435\\u0443\\u0434\\u043E\\u0432\\u043B\\u0435\\u0442\\u0432\\u043E\\u0440\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E)\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1444,\n                                columnNumber: 39\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1432,\n                              columnNumber: 37\n                            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                              className: \"add-grade-btn\",\n                              onClick: () => handleAddGradeForStudent(s.id),\n                              children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1447,\n                              columnNumber: 37\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1415,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1413,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1359,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1358,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1357,\n                    columnNumber: 27\n                  }, this)]\n                }, s.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1341,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1339,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1331,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1330,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1307,\n          columnNumber: 13\n        }, this), activeTab === 'stats' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stats-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\u0421\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430 \\u0443\\u0441\\u043F\\u0435\\u0432\\u0430\\u0435\\u043C\\u043E\\u0441\\u0442\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1470,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"refresh-btn\",\n              onClick: fetchStats,\n              disabled: isLoading,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-sync-alt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1476,\n                columnNumber: 19\n              }, this), \" \\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1471,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1469,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stats-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-icon bg-red\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-exclamation-triangle\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1483,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1482,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u0421\\u0430\\u043C\\u044B\\u0439 \\u0441\\u043B\\u043E\\u0436\\u043D\\u044B\\u0439 \\u043F\\u0440\\u0435\\u0434\\u043C\\u0435\\u0442\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1486,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: stats.worstSubject || 'Нет данных'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1487,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1485,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1481,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-icon bg-orange\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-user-times\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1493,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1492,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u041D\\u0435\\u0443\\u0441\\u043F\\u0435\\u0432\\u0430\\u044E\\u0449\\u0438\\u0435 \\u0443\\u0447\\u0435\\u043D\\u0438\\u043A\\u0438\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1496,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: stats.failingStudents\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1497,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1495,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1491,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-icon bg-purple\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-chalkboard-teacher\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1503,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1502,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u0421\\u0430\\u043C\\u044B\\u0439 \\u0441\\u0442\\u0440\\u043E\\u0433\\u0438\\u0439 \\u0443\\u0447\\u0438\\u0442\\u0435\\u043B\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1506,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: stats.worstTeacher || 'Нет данных'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1507,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1505,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1501,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-icon bg-blue\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-users\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1513,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1512,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u0421\\u0440\\u0435\\u0434\\u043D\\u0438\\u0435 \\u043E\\u0446\\u0435\\u043D\\u043A\\u0438 \\u043F\\u043E \\u043A\\u043B\\u0430\\u0441\\u0441\\u0430\\u043C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1516,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: Object.entries(stats.classAverages).map(([cls, avg]) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [cls, \": \", typeof avg === 'number' ? avg.toFixed(1) : 'Нет данных']\n                  }, cls, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1519,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1517,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1515,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1511,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-icon bg-green\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-trophy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1529,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1528,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u041B\\u0443\\u0447\\u0448\\u0438\\u0439 \\u043A\\u043B\\u0430\\u0441\\u0441\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1532,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: stats.bestClass || 'Нет данных'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1533,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1531,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1527,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-icon bg-red\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-sad-tear\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1539,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1538,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u0425\\u0443\\u0434\\u0448\\u0438\\u0439 \\u043A\\u043B\\u0430\\u0441\\u0441\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1542,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: stats.worstClass || 'Нет данных'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1543,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1541,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1537,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1480,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1468,\n          columnNumber: 13\n        }, this), activeTab === 'users' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\\u0439\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1553,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"export-btn\",\n                onClick: () => exportData('users'),\n                disabled: isLoading,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-file-export\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1560,\n                  columnNumber: 21\n                }, this), \" \\u042D\\u043A\\u0441\\u043F\\u043E\\u0440\\u0442\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1555,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"add-btn\",\n                onClick: () => handleAdd('user'),\n                disabled: isLoading,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-plus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1567,\n                  columnNumber: 21\n                }, this), \" \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1562,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1554,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1552,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filters\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filters.users.role,\n              onChange: e => setFilters({\n                ...filters,\n                users: {\n                  ...filters.users,\n                  role: e.target.value\n                }\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"\\u0412\\u0441\\u0435 \\u0440\\u043E\\u043B\\u0438\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1583,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Admin\",\n                children: \"\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1584,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Teacher\",\n                children: \"\\u0423\\u0447\\u0438\\u0442\\u0435\\u043B\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1585,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Student\",\n                children: \"\\u0423\\u0447\\u0435\\u043D\\u0438\\u043A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1586,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"User\",\n                children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1587,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1573,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1572,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-container\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1595,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u041B\\u043E\\u0433\\u0438\\u043D\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1596,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0420\\u043E\\u043B\\u044C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1597,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1598,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1594,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1593,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: filteredData(users, 'users').map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: user.UserID\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1604,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: user.Username\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1605,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: user.Role\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1606,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"actions\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"edit-btn\",\n                      onClick: () => handleEdit('user', user.UserID),\n                      disabled: isLoading || user.Role === 'Admin',\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1613,\n                        columnNumber: 29\n                      }, this), \" \\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1608,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"delete-btn\",\n                      onClick: () => handleDelete(user.UserID, 'user'),\n                      disabled: isLoading || user.Role === 'Admin',\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-trash\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1620,\n                        columnNumber: 29\n                      }, this), \" \\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1615,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1607,\n                    columnNumber: 25\n                  }, this)]\n                }, user.UserID, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1603,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1601,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1592,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1591,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pagination\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => fetchUsers(pagination.users.page - 1),\n              disabled: pagination.users.page <= 1 || isLoading,\n              children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1630,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \", pagination.users.page, \" \\u0438\\u0437 \", ' ', Math.ceil(pagination.users.total / pagination.users.perPage)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1636,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => fetchUsers(pagination.users.page + 1),\n              disabled: pagination.users.page * pagination.users.perPage >= pagination.users.total || isLoading,\n              children: \"\\u0412\\u043F\\u0435\\u0440\\u0435\\u0434\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1640,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1629,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1551,\n          columnNumber: 13\n        }, this), activeTab === 'classrooms' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043A\\u043B\\u0430\\u0441\\u0441\\u043E\\u0432\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1656,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"export-btn\",\n                onClick: () => exportData('classes'),\n                disabled: isLoading,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-file-export\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1663,\n                  columnNumber: 21\n                }, this), \" \\u042D\\u043A\\u0441\\u043F\\u043E\\u0440\\u0442\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1658,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"add-btn\",\n                onClick: () => handleAdd('class'),\n                disabled: isLoading,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-plus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1670,\n                  columnNumber: 21\n                }, this), \" \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1665,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1657,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1655,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filters\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440 \\u043F\\u043E \\u0433\\u043E\\u0434\\u0443 \\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F\",\n              value: filters.classrooms.academicYear,\n              onChange: e => setFilters({\n                ...filters,\n                classrooms: {\n                  ...filters.classrooms,\n                  academicYear: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1676,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1675,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-container\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"ClassID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1694,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1695,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0413\\u043E\\u0434 \\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1696,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u041A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1697,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1698,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1693,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1692,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: filteredData(classrooms, 'classrooms').map(cls => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: cls.ClassID\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1704,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: cls.Name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1705,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: cls.AcademicYear\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1706,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: cls.RoomNumber\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1707,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"actions\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"edit-btn\",\n                      onClick: () => handleEdit('class', cls.ClassID),\n                      disabled: isLoading,\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1714,\n                        columnNumber: 29\n                      }, this), \" \\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1709,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"delete-btn\",\n                      onClick: () => handleDelete(cls.ClassID, 'class'),\n                      disabled: isLoading,\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-trash\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1721,\n                        columnNumber: 29\n                      }, this), \" \\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1716,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1708,\n                    columnNumber: 25\n                  }, this)]\n                }, cls.ClassID, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1703,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1701,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1691,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1690,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pagination\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => fetchClassrooms(pagination.classrooms.page - 1),\n              disabled: pagination.classrooms.page <= 1 || isLoading,\n              children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1731,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \", pagination.classrooms.page, \" \\u0438\\u0437 \", ' ', Math.ceil(pagination.classrooms.total / pagination.classrooms.perPage)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1737,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => fetchClassrooms(pagination.classrooms.page + 1),\n              disabled: pagination.classrooms.page * pagination.classrooms.perPage >= pagination.classrooms.total || isLoading,\n              children: \"\\u0412\\u043F\\u0435\\u0440\\u0435\\u0434\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1741,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1730,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1654,\n          columnNumber: 13\n        }, this), activeTab === 'subjects' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u0440\\u0435\\u0434\\u043C\\u0435\\u0442\\u043E\\u0432\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1757,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section-actions\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"add-btn\",\n                onClick: () => handleAdd('subject'),\n                disabled: isLoading,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-plus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1764,\n                  columnNumber: 21\n                }, this), \" \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1759,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1758,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1756,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filters\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440 \\u043F\\u043E \\u0443\\u0447\\u0438\\u0442\\u0435\\u043B\\u044E\",\n              value: filters.subjects.teacher,\n              onChange: e => setFilters({\n                ...filters,\n                subjects: {\n                  ...filters.subjects,\n                  teacher: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1769,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1768,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-container\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1786,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1787,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0423\\u0447\\u0438\\u0442\\u0435\\u043B\\u044C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1788,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1789,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1785,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1784,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: filteredData(subjects, 'subjects').map(subj => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: subj.SubjectID\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1795,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: subj.Name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1796,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: subj.TeacherName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1797,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"actions\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"edit-btn\",\n                      onClick: () => handleEdit('subject', subj.SubjectID),\n                      disabled: isLoading,\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1804,\n                        columnNumber: 29\n                      }, this), \" \\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1799,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"delete-btn\",\n                      onClick: () => handleDelete(subj.SubjectID, 'subject'),\n                      disabled: isLoading,\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-trash\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1811,\n                        columnNumber: 29\n                      }, this), \" \\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1806,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1798,\n                    columnNumber: 25\n                  }, this)]\n                }, subj.SubjectID, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1794,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1792,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1783,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1782,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pagination\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => fetchSubjects(pagination.subjects.page - 1),\n              disabled: pagination.subjects.page <= 1 || isLoading,\n              children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1820,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \", pagination.subjects.page, \" \\u0438\\u0437 \", ' ', Math.ceil(pagination.subjects.total / pagination.subjects.perPage)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1826,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => fetchSubjects(pagination.subjects.page + 1),\n              disabled: pagination.subjects.page * pagination.subjects.perPage >= pagination.subjects.total || isLoading,\n              children: \"\\u0412\\u043F\\u0435\\u0440\\u0435\\u0434\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1830,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1819,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1755,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1054,\n      columnNumber: 7\n    }, this), showLogoutModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u0435 \\u0432\\u044B\\u0445\\u043E\\u0434\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1848,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B, \\u0447\\u0442\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0432\\u044B\\u0439\\u0442\\u0438 \\u0438\\u0437 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u044B?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1849,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel-btn\",\n            onClick: cancelLogout,\n            children: \"\\u041E\\u0441\\u0442\\u0430\\u0442\\u044C\\u0441\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1851,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"confirm-btn\",\n            onClick: confirmLogout,\n            children: \"\\u0414\\u0430, \\u0432\\u044B\\u0439\\u0442\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1857,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1850,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1847,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1846,\n      columnNumber: 9\n    }, this), showAddModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-modal\",\n          onClick: () => {\n            setShowAddModal(false);\n            resetForm();\n          },\n          disabled: isLoading,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-times\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1879,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1871,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [modalType === 'teacher' && 'Назначить учителя', modalType === 'edit_teacher' && 'Редактировать учителя', modalType === 'student' && 'Добавить ученика', modalType === 'edit_student' && 'Редактировать ученика', modalType === 'grades' && 'Добавить оценки', modalType === 'edit_grades' && 'Редактировать оценки', modalType === 'user' && 'Добавить пользователя', modalType === 'edit_user' && 'Редактировать пользователя', modalType === 'class' && 'Добавить класс', modalType === 'edit_class' && 'Редактировать класс', modalType === 'subject' && 'Добавить предмет', modalType === 'edit_subject' && 'Редактировать предмет']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1882,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-message\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1897,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: modalType.includes('user') ? handleUserSubmit : handleSubmit,\n          children: [(modalType === 'user' || modalType === 'edit_user') && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041B\\u043E\\u0433\\u0438\\u043D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1907,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: newUser.username,\n                onChange: e => setNewUser({\n                  ...newUser,\n                  username: e.target.value\n                }),\n                required: true,\n                disabled: isLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1908,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1906,\n              columnNumber: 19\n            }, this), (modalType === 'user' || modalType === 'edit_user' && newUser.password) && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1923,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  value: newUser.password,\n                  onChange: e => setNewUser({\n                    ...newUser,\n                    password: e.target.value\n                  }),\n                  required: modalType === 'user',\n                  disabled: isLoading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1924,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1922,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1936,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  value: newUser.confirmPassword,\n                  onChange: e => setNewUser({\n                    ...newUser,\n                    confirmPassword: e.target.value\n                  }),\n                  required: modalType === 'user',\n                  disabled: isLoading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1937,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1935,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0420\\u043E\\u043B\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1952,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: newUser.role,\n                onChange: e => setNewUser({\n                  ...newUser,\n                  role: e.target.value\n                }),\n                required: true,\n                disabled: isLoading,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"User\",\n                  children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1962,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Student\",\n                  children: \"\\u0423\\u0447\\u0435\\u043D\\u0438\\u043A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1963,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Teacher\",\n                  children: \"\\u0423\\u0447\\u0438\\u0442\\u0435\\u043B\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1964,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Admin\",\n                  children: \"\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1965,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1953,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1951,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), (modalType === 'teacher' || modalType === 'edit_teacher') && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1974,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: newStudent.userId,\n                onChange: e => {\n                  var _users$find2;\n                  const selectedId = e.target.value;\n                  setNewStudent({\n                    ...newStudent,\n                    userId: selectedId,\n                    userQuery: ((_users$find2 = users.find(u => u.UserID === +selectedId)) === null || _users$find2 === void 0 ? void 0 : _users$find2.Username) || ''\n                  });\n                  setSelectedUserId(selectedId); // <— вот сюда\n                },\n                required: true,\n                disabled: isLoading,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\u2014 \\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F \\u2014\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1989,\n                  columnNumber: 23\n                }, this), users.filter(u => u.Role === 'Student').map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: u.UserID,\n                  children: [u.Username, \" (ID=\", u.UserID, \")\"]\n                }, u.UserID, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1993,\n                  columnNumber: 27\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1975,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1973,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0424\\u0418\\u041E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2002,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"\\u041F\\u043E\\u043B\\u043D\\u043E\\u0435 \\u0438\\u043C\\u044F\",\n                value: fullName,\n                onChange: e => setFullName(e.target.value),\n                required: true,\n                disabled: isLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2003,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2001,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2013,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                placeholder: \"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u043A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\\u0430\",\n                value: classroomNumber,\n                onChange: e => setClassroomNumber(e.target.value),\n                disabled: isLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2014,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2012,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), (modalType === 'student' || modalType === 'edit_student') && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2028,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: newStudent.userId,\n                onChange: e => {\n                  var _users$find3;\n                  return setNewStudent({\n                    ...newStudent,\n                    userId: +e.target.value,\n                    userQuery: ((_users$find3 = users.find(u => u.UserID === +e.target.value)) === null || _users$find3 === void 0 ? void 0 : _users$find3.Username) || ''\n                  });\n                },\n                required: true,\n                disabled: isLoading,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\u2014 \\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F \\u2014\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2039,\n                  columnNumber: 23\n                }, this), users.filter(u => u.Role === 'Student').map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: u.UserID,\n                  children: [u.Username, \" (ID=\", u.UserID, \")\"]\n                }, u.UserID, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2043,\n                  columnNumber: 27\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2029,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2027,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0424\\u0418\\u041E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2051,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"\\u041F\\u043E\\u043B\\u043D\\u043E\\u0435 \\u0438\\u043C\\u044F\",\n                value: newStudent.name,\n                onChange: e => setNewStudent({\n                  ...newStudent,\n                  name: e.target.value\n                }),\n                required: true,\n                disabled: isLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2052,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2050,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041A\\u043B\\u0430\\u0441\\u0441\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2062,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: newStudent.class,\n                onChange: e => setNewStudent({\n                  ...newStudent,\n                  class: e.target.value\n                }),\n                required: true,\n                disabled: isLoading,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043A\\u043B\\u0430\\u0441\\u0441\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2069,\n                  columnNumber: 23\n                }, this), classrooms.map(cls => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: cls.Name,\n                  children: [cls.Name, \" (\", cls.AcademicYear, \")\"]\n                }, cls.ClassID, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2071,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2063,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2061,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), (modalType === 'grades' || modalType === 'edit_grades') && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0423\\u0447\\u0435\\u043D\\u0438\\u043A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2083,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: newGrades.student,\n                onChange: e => setNewGrades({\n                  ...newGrades,\n                  student: e.target.value\n                }),\n                required: true,\n                disabled: isLoading,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0443\\u0447\\u0435\\u043D\\u0438\\u043A\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2093,\n                  columnNumber: 23\n                }, this), students.map(student => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: student.fullName,\n                  children: [student.fullName, \" (\", student.className, \")\"]\n                }, student.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2095,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2084,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2082,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grades-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u041C\\u0430\\u0442\\u0435\\u043C\\u0430\\u0442\\u0438\\u043A\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2103,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: newGrades.subject1,\n                  onChange: e => setNewGrades({\n                    ...newGrades,\n                    subject1: e.target.value\n                  }),\n                  required: true,\n                  disabled: isLoading,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043E\\u0446\\u0435\\u043D\\u043A\\u0443\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2113,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"5\",\n                    children: \"5 (\\u041E\\u0442\\u043B\\u0438\\u0447\\u043D\\u043E)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2114,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"4\",\n                    children: \"4 (\\u0425\\u043E\\u0440\\u043E\\u0448\\u043E)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2115,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"3\",\n                    children: \"3 (\\u0423\\u0434\\u043E\\u0432\\u043B\\u0435\\u0442\\u0432\\u043E\\u0440\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2116,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"2\",\n                    children: \"2 (\\u041D\\u0435\\u0443\\u0434\\u043E\\u0432\\u043B\\u0435\\u0442\\u0432\\u043E\\u0440\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2117,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2104,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2102,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0424\\u0438\\u0437\\u0438\\u043A\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2121,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: newGrades.subject2,\n                  onChange: e => setNewGrades({\n                    ...newGrades,\n                    subject2: e.target.value\n                  }),\n                  required: true,\n                  disabled: isLoading,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043E\\u0446\\u0435\\u043D\\u043A\\u0443\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2131,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"5\",\n                    children: \"5 (\\u041E\\u0442\\u043B\\u0438\\u0447\\u043D\\u043E)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2132,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"4\",\n                    children: \"4 (\\u0425\\u043E\\u0440\\u043E\\u0448\\u043E)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2133,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"3\",\n                    children: \"3 (\\u0423\\u0434\\u043E\\u0432\\u043B\\u0435\\u0442\\u0432\\u043E\\u0440\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2134,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"2\",\n                    children: \"2 (\\u041D\\u0435\\u0443\\u0434\\u043E\\u0432\\u043B\\u0435\\u0442\\u0432\\u043E\\u0440\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2135,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2122,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2120,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u041B\\u0438\\u0442\\u0435\\u0440\\u0430\\u0442\\u0443\\u0440\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2139,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: newGrades.subject3,\n                  onChange: e => setNewGrades({\n                    ...newGrades,\n                    subject3: e.target.value\n                  }),\n                  required: true,\n                  disabled: isLoading,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043E\\u0446\\u0435\\u043D\\u043A\\u0443\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2149,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"5\",\n                    children: \"5 (\\u041E\\u0442\\u043B\\u0438\\u0447\\u043D\\u043E)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2150,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"4\",\n                    children: \"4 (\\u0425\\u043E\\u0440\\u043E\\u0448\\u043E)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2151,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"3\",\n                    children: \"3 (\\u0423\\u0434\\u043E\\u0432\\u043B\\u0435\\u0442\\u0432\\u043E\\u0440\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2152,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"2\",\n                    children: \"2 (\\u041D\\u0435\\u0443\\u0434\\u043E\\u0432\\u043B\\u0435\\u0442\\u0432\\u043E\\u0440\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2153,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2140,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2138,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2101,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), (modalType === 'class' || modalType === 'edit_class') && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043A\\u043B\\u0430\\u0441\\u0441\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2163,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: newClass.name,\n                onChange: e => setNewClass({\n                  ...newClass,\n                  name: e.target.value\n                }),\n                required: true,\n                disabled: isLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2164,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2162,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0413\\u043E\\u0434 \\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2176,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: newClass.academicYear,\n                onChange: e => setNewClass({\n                  ...newClass,\n                  academicYear: e.target.value\n                }),\n                required: true,\n                disabled: isLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2177,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2175,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u043A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2189,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: newClass.roomNumber,\n                onChange: e => setNewClass({\n                  ...newClass,\n                  roomNumber: e.target.value\n                }),\n                required: true,\n                disabled: isLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2190,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2188,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), (modalType === 'subject' || modalType === 'edit_subject') && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u0435\\u0434\\u043C\\u0435\\u0442\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2207,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: newSubject.name,\n                onChange: e => setNewSubject({\n                  ...newSubject,\n                  name: e.target.value\n                }),\n                required: true,\n                disabled: isLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2208,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2206,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0423\\u0447\\u0438\\u0442\\u0435\\u043B\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2217,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: newSubject.teacherQuery,\n                onChange: e => {\n                  const selectedTeacher = teachers.find(t => t.FullName === e.target.value);\n                  setNewSubject({\n                    ...newSubject,\n                    teacherQuery: e.target.value,\n                    teacherId: selectedTeacher ? selectedTeacher.TeacherID : ''\n                  });\n                },\n                placeholder: \"\\u041D\\u0430\\u0447\\u043D\\u0438\\u0442\\u0435 \\u0432\\u0432\\u043E\\u0434\\u0438\\u0442\\u044C \\u0424\\u0418\\u041E...\",\n                list: \"teacher-list\",\n                required: true,\n                disabled: isLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2218,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n                id: \"teacher-list\",\n                children: teachers.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: t.FullName,\n                  \"data-id\": t.TeacherID\n                }, t.TeacherID, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2236,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2234,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2216,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"cancel-btn\",\n              onClick: () => {\n                setShowAddModal(false);\n                resetForm();\n              },\n              disabled: isLoading,\n              children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2244,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"submit-btn\",\n              disabled: isLoading,\n              children: isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-spinner fa-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2262,\n                  columnNumber: 23\n                }, this), \" \\u041E\\u0431\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0430...\"]\n              }, void 0, true) : modalType.startsWith('edit_') ? 'Сохранить изменения' : 'Добавить'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2255,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2243,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1899,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1870,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1869,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 999,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminDashboard, \"YW97pFStIkTPhWZ4dsraia0nw78=\", false, function () {\n  return [useNavigate];\n});\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jwtDecode","ToastContainer","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminDashboard","_s","API_URL","navigate","activeTab","setActiveTab","showAddModal","setShowAddModal","showLogoutModal","setShowLogoutModal","modalType","setModalType","editId","setEditId","searchTerm","setSearchTerm","isLoading","setIsLoading","error","setError","selectedClassForGrades","setSelectedClassForGrades","studentsAverages","setStudentsAverages","expandedStudent","setExpandedStudent","newGradeEntry","setNewGradeEntry","subjectId","grade","editingGrade","setEditingGrade","id","value","teachers","setTeachers","students","setStudents","grades","setGrades","users","setUsers","classrooms","setClassrooms","subjects","setSubjects","stats","setStats","worstSubject","failingStudents","worstTeacher","classAverages","bestClass","worstClass","selectedUserId","setSelectedUserId","fullName","setFullName","classroomNumber","setClassroomNumber","newStudent","setNewStudent","name","class","userId","userQuery","newGrades","setNewGrades","student","subject1","subject2","subject3","newUser","setNewUser","username","password","confirmPassword","role","newClass","setNewClass","academicYear","roomNumber","newSubject","setNewSubject","teacherId","teacherQuery","pagination","setPagination","page","perPage","total","filters","setFilters","room","subject","minGrade","maxGrade","teacher","token","localStorage","getItem","warning","fetchClassrooms","loadData","Promise","all","fetchTeachers","fetchUsers","fetchStudents","fetchGrades","fetchSubjects","fetchStats","err","message","response","get","params","limit","search","headers","Authorization","data","prev","totalCount","studentsData","Array","isArray","length","_response$data$grades","_response$data$totalC","gradesList","computeAverages","classStudents","filter","s","ClassID","result","map","st","recs","g","StudentID","FullName","average","count","forEach","parseFloat","GradeValue","toggleStudent","studentId","handleAddGradeForStudent","post","SubjectID","success","e","startEditGrade","gradeId","currentValue","cancelEditGrade","saveEditGrade","put","res","sortBy","order","totalHeader","parseInt","sort","a","b","UserID","isNaN","classes","console","list","_worstSubject$data","_worstTeacher$data$","failing","classStats","SubjectName","reduce","acc","curr","className","current","handleSubmit","preventDefault","trim","payload","ClassroomNumber","selectedClass","find","c","Name","StudentName","Subject1Grade","Subject2Grade","Subject3Grade","AcademicYear","RoomNumber","TeacherID","resetForm","_err$response","_err$response$data","_err$response2","_err$response2$data","details","handleAdd","type","handleEdit","t","_users$find","ClassName","u","Username","studentName","subject1Grade","subject2Grade","subject3Grade","Role","TeacherName","handleDelete","window","confirm","delete","_err$response3","_err$response3$data","handleUserSubmit","_err$response4","_err$response4$data","exportData","responseType","url","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","Date","toISOString","split","body","appendChild","click","remove","_err$response5","_err$response5$data","filteredData","item","_item$FullName","_item$className","_item$studentName","_item$Username","_item$Name","_item$TeacherName","_classrooms$find","_item$ClassroomNumber","_item$subject1Name","_item$subject2Name","_item$subject3Name","_item$Role","_item$AcademicYear","_item$TeacherName2","matchesSearch","toLowerCase","includes","studentClassName","matchesFilters","toString","subject1Name","subject2Name","subject3Name","handleLogout","confirmLogout","removeItem","cancelLogout","children","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","placeholder","onChange","target","Math","ceil","cls","toFixed","colSpan","GradeID","subj","Object","entries","avg","user","onSubmit","required","_users$find2","selectedId","_users$find3","selectedTeacher","startsWith","_c","$RefreshReg$"],"sources":["C:/Users/danii/OneDrive/Рабочий стол/School/school-app/front/src/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { jwtDecode } from 'jwt-decode';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './AdminDashboard.css';\r\n\r\nconst AdminDashboard = () => {\r\n  const API_URL = \"http://localhost:5000/api\";\r\n  const navigate = useNavigate();\r\n\r\n  // Состояния для управления интерфейсом\r\n  const [activeTab, setActiveTab] = useState('teachers');\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [showLogoutModal, setShowLogoutModal] = useState(false);\r\n  const [modalType, setModalType] = useState('');\r\n  const [editId, setEditId] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  // ——— ВКЛАДКА “УСПЕВАЕМОСТЬ” ———\r\n  const [selectedClassForGrades, setSelectedClassForGrades] = useState('');\r\n  const [studentsAverages, setStudentsAverages] = useState([]);\r\n  const [expandedStudent, setExpandedStudent] = useState(null);\r\n  const [newGradeEntry, setNewGradeEntry] = useState({\r\n    subjectId: '',\r\n    grade: ''\r\n  });\r\n  // Новое состояние для редактирования оценки\r\n  const [editingGrade, setEditingGrade] = useState({ id: null, value: '' });\r\n\r\n  // Основные данные\r\n  const [teachers, setTeachers] = useState([]);\r\n  const [students, setStudents] = useState([]);\r\n  const [grades, setGrades] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const [classrooms, setClassrooms] = useState([]);\r\n  const [subjects, setSubjects] = useState([]);\r\n  const [stats, setStats] = useState({\r\n    worstSubject: '',\r\n    failingStudents: 0,\r\n    worstTeacher: '',\r\n    classAverages: {},\r\n    bestClass: '',\r\n    worstClass: ''\r\n  });\r\n\r\n  // Состояния для форм\r\n  const [selectedUserId, setSelectedUserId] = useState('');\r\n  const [fullName, setFullName] = useState('');\r\n  const [classroomNumber, setClassroomNumber] = useState('');\r\n  const [newStudent, setNewStudent] = useState({\r\n    name: '',\r\n    class: '',\r\n    userId: '',\r\n    userQuery: ''\r\n  });\r\n  \r\n  const [newGrades, setNewGrades] = useState({ \r\n    student: '', \r\n    subject1: '', \r\n    subject2: '', \r\n    subject3: '' \r\n  });\r\n  const [newUser, setNewUser] = useState({\r\n    username: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    role: 'User'\r\n  });\r\n  const [newClass, setNewClass] = useState({\r\n    name: '',\r\n    academicYear: '',\r\n    roomNumber: ''\r\n  });\r\n  const [newSubject, setNewSubject] = useState({\r\n    name: '',\r\n    teacherId: '',\r\n    teacherQuery: ''\r\n  });\r\n\r\n  // Пагинация\r\n  const [pagination, setPagination] = useState({\r\n    teachers: { page: 1, perPage: 10, total: 0 },\r\n    students: { page: 1, perPage: 10, total: 0 },\r\n    grades: { page: 1, perPage: 10, total: 0 },\r\n    users: { page: 1, perPage: 10, total: 0 },\r\n    classrooms: { page: 1, perPage: 10, total: 0 },\r\n    subjects: { page: 1, perPage: 10, total: 0 }\r\n  });\r\n\r\n  // Фильтры\r\n  const [filters, setFilters] = useState({\r\n    teachers: { room: '' },\r\n    students: { class: '' },\r\n    grades: { subject: '', minGrade: '', maxGrade: '' },\r\n    users: { role: '' },\r\n    classrooms: { academicYear: '' },\r\n    subjects: { teacher: '' }\r\n  });\r\n\r\n  // Проверка авторизации и роли\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('authToken');\r\n    if (!token) {\r\n      navigate('/');\r\n      toast.warning('Доступ запрещен. Требуется вход в систему.');\r\n      return;\r\n    }\r\n    const { role } = jwtDecode(token);\r\n    if (role !== 'Admin') {\r\n      navigate('/');\r\n      toast.warning('Доступ запрещен. Требуются права администратора.');\r\n    }\r\n  }, [navigate]);\r\n\r\n  // один раз при монтировании\r\n  useEffect(() => {\r\n    fetchClassrooms();\r\n  }, []);\r\n\r\n  // Загрузка данных при монтировании и смене вкладки\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        switch (activeTab) {\r\n          case 'teachers':\r\n            await Promise.all([\r\n              fetchTeachers(),\r\n              fetchUsers(pagination.users.page, 'Teacher')\r\n            ]);\r\n            break;\r\n          case 'students':\r\n            await Promise.all([\r\n              fetchStudents(),\r\n              fetchClassrooms(),      \r\n            ]);\r\n            break;\r\n          case 'grades':\r\n            await Promise.all([\r\n              fetchStudents(pagination.students.page),\r\n              fetchGrades(),\r\n              fetchSubjects()\r\n            ]);\r\n            break;\r\n          case 'stats':\r\n            await fetchStats();\r\n            break;\r\n          case 'users':\r\n            await fetchUsers();\r\n            break;\r\n          case 'classrooms':\r\n            await fetchClassrooms();\r\n            break;\r\n          case 'subjects':\r\n            await fetchSubjects();\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      } catch (err) {\r\n        setError(err.message);\r\n        toast.error(`Ошибка загрузки данных: ${err.message}`);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    loadData();\r\n  }, [activeTab]);\r\n\r\n  // API функции\r\n  const fetchTeachers = async (page = 1) => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/teacher`, {\r\n        params: { \r\n          page, \r\n          limit: pagination.teachers.perPage,\r\n          search: searchTerm,\r\n          ...filters.teachers\r\n        },\r\n        headers: { \r\n          Authorization: `Bearer ${localStorage.getItem('authToken')}` \r\n        }\r\n      });\r\n      setTeachers(response.data.teachers);\r\n      setPagination(prev => ({\r\n        ...prev,\r\n        teachers: {\r\n          ...prev.teachers,\r\n          page,\r\n          total: response.data.totalCount\r\n        }\r\n      }));\r\n    } catch (err) {\r\n      toast.error('Ошибка загрузки учителей');\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const fetchStudents = async (page = 1) => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/student`, {\r\n        params: { \r\n          page, \r\n          limit: pagination.students.perPage,\r\n          search: searchTerm,\r\n          ...filters.students\r\n        },\r\n        headers: { \r\n          Authorization: `Bearer ${localStorage.getItem('authToken')}` \r\n        }\r\n      });\r\n      const studentsData = Array.isArray(response.data)\r\n          ? response.data\r\n          : response.data.students;\r\n      setStudents(studentsData);\r\n      setPagination(prev => ({\r\n        ...prev,\r\n        students: {\r\n          ...prev.students,\r\n          page,\r\n          total: studentsData.length\r\n        }\r\n      }));\r\n    } catch (err) {\r\n      toast.error('Ошибка загрузки студентов');\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const fetchGrades = async (page = 1) => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/grade`, {\r\n        params: {\r\n          page,\r\n          limit: pagination.grades.perPage,\r\n          search: searchTerm,\r\n          ...filters.grades\r\n        },\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\r\n        }\r\n      });\r\n      const gradesList = Array.isArray(response.data)\r\n        ? response.data\r\n        : response.data.grades ?? [];\r\n      setGrades(gradesList);\r\n  \r\n      const total = response.data.totalCount ?? gradesList.length;\r\n      setPagination(prev => ({\r\n        ...prev,\r\n        grades: {\r\n          ...prev.grades,\r\n          page,\r\n          total\r\n        }\r\n      }));\r\n    } catch (err) {\r\n      toast.error('Ошибка загрузки оценок');\r\n      throw err;\r\n    }\r\n  };\r\n  \r\n  const computeAverages = () => {\r\n    if (!selectedClassForGrades) {\r\n      setStudentsAverages([]);\r\n      return;\r\n    }\r\n  \r\n    const classStudents = students.filter(\r\n      s => s.ClassID === selectedClassForGrades\r\n    );\r\n  \r\n    const result = classStudents.map(st => {\r\n      const recs = grades.filter(g => g.StudentID === st.StudentID);\r\n  \r\n      if (recs.length === 0) {\r\n        return { \r\n          id: st.StudentID,\r\n          name: st.FullName,\r\n          average: null\r\n        };\r\n      }\r\n  \r\n      let total = 0, count = 0;\r\n      recs.forEach(g => {\r\n        total += parseFloat(g.GradeValue);\r\n        count += 1;\r\n      });\r\n  \r\n      return {\r\n        id: st.StudentID,\r\n        name: st.FullName,\r\n        average: count > 0 ? total / count : null\r\n      };\r\n    });\r\n  \r\n    setStudentsAverages(result);\r\n  };\r\n  \r\n  useEffect(() => {\r\n    computeAverages();\r\n  }, [selectedClassForGrades, grades]);\r\n\r\n  const toggleStudent = (studentId) => {\r\n    setExpandedStudent(expandedStudent === studentId ? null : studentId);\r\n    setNewGradeEntry({ subjectId: '', grade: '' });\r\n    setEditingGrade({ id: null, value: '' }); // Сбрасываем редактирование при переключении\r\n  };\r\n\r\n  const handleAddGradeForStudent = async (studentId) => {\r\n    if (!newGradeEntry.subjectId || !newGradeEntry.grade) {\r\n      toast.error('Выберите предмет и оценку');\r\n      return;\r\n    }\r\n    try {\r\n      await axios.post(`${API_URL}/grade`, {\r\n        StudentID: studentId,\r\n        SubjectID: newGradeEntry.subjectId,\r\n        GradeValue: newGradeEntry.grade,\r\n      }, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('authToken')}` }\r\n      });\r\n      toast.success('Оценка добавлена');\r\n      await fetchGrades();\r\n    } catch (e) {\r\n      toast.error('Ошибка при добавлении оценки');\r\n    }\r\n  };\r\n\r\n  // Новые хэндлеры для редактирования оценки\r\n  const startEditGrade = (gradeId, currentValue) => {\r\n    setEditingGrade({ id: gradeId, value: currentValue });\r\n  };\r\n\r\n  const cancelEditGrade = () => {\r\n    setEditingGrade({ id: null, value: '' });\r\n  };\r\n\r\n  const saveEditGrade = async (gradeId) => {\r\n    try {\r\n      await axios.put(`${API_URL}/grade/${gradeId}`, {\r\n        GradeValue: editingGrade.value\r\n      }, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('authToken')}` }\r\n      });\r\n      toast.success('Оценка обновлена');\r\n      cancelEditGrade();\r\n      fetchGrades();\r\n    } catch {\r\n      toast.error('Ошибка при обновлении оценки');\r\n    }\r\n  };\r\n\r\n  const fetchUsers = async (page = 1) => {\r\n    try {\r\n      const res = await axios.get(`${API_URL}/user`, {\r\n        params: {\r\n          page,\r\n          limit: pagination.users.perPage,\r\n          search: searchTerm,\r\n          role: filters.users.role,\r\n          sortBy: 'UserID',\r\n          order: 'asc'\r\n        },\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('authToken')}` }\r\n      });\r\n\r\n      const totalHeader = res.headers['x-total-count'] || res.headers['X-Total-Count'];\r\n      const totalCount = parseInt(totalHeader, 10);\r\n\r\n      setUsers([...res.data].sort((a, b) => a.UserID - b.UserID));\r\n      setPagination(prev => ({\r\n        ...prev,\r\n        users: {\r\n          ...prev.users,\r\n          page,\r\n          total: isNaN(totalCount) ? 0 : totalCount\r\n        }\r\n      }));\r\n    } catch (err) {\r\n      toast.error('Ошибка загрузки пользователей');\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const fetchClassrooms = async (page = 1) => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/class`, {\r\n        params: {\r\n          page,\r\n          limit: pagination.classrooms.perPage,\r\n          search: searchTerm,\r\n          ...filters.classrooms\r\n        },\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('authToken')}` }\r\n      });\r\n      setClassrooms(response.data.classes || []);\r\n      setPagination(prev => ({\r\n        ...prev,\r\n        classrooms: {\r\n          ...prev.classrooms,\r\n          page,\r\n          total: response.data.totalCount || 0\r\n        }\r\n      }));\r\n    } catch (err) {\r\n      console.error('Error fetching classrooms:', err);\r\n      toast.error('Ошибка загрузки классов');\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const fetchSubjects = async (page = 1) => {\r\n    try {\r\n      const res = await axios.get(`${API_URL}/subject`, {\r\n        params: {\r\n          page,\r\n          limit: pagination.subjects.perPage,\r\n          search: searchTerm,\r\n          teacher: filters.subjects.teacher\r\n        },\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('authToken')}` }\r\n      });\r\n  \r\n      const list = Array.isArray(res.data) ? res.data : res.data.subjects;\r\n      setSubjects(list);\r\n  \r\n      const total = parseInt(res.headers['x-total-count'] || list.length, 10);\r\n      setPagination(prev => ({\r\n        ...prev,\r\n        subjects: {\r\n          page,\r\n          perPage: prev.subjects.perPage,\r\n          total\r\n        }\r\n      }));\r\n    } catch (err) {\r\n      toast.error('Ошибка загрузки предметов');\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const fetchStats = async () => {\r\n    try {\r\n      const [failing, worstTeacher, classStats, worstSubject] = await Promise.all([\r\n        axios.get(`${API_URL}/report/failing`, {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('authToken')}` }\r\n        }),\r\n        axios.get(`${API_URL}/report/worst-teacher`, {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('authToken')}` }\r\n        }),\r\n        axios.get(`${API_URL}/report/class`, {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('authToken')}` }\r\n        }),\r\n        axios.get(`${API_URL}/report/worst-subject`, {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('authToken')}` }\r\n        })\r\n      ]);\r\n      \r\n      setStats({\r\n        worstSubject: worstSubject?.data?.SubjectName || 'Нет данных',\r\n        failingStudents: failing.data.count || 0,\r\n        worstTeacher: worstTeacher.data[0]?.name || 'Нет данных',\r\n        classAverages: classStats.data.reduce((acc, curr) => {\r\n          acc[curr.className] = parseFloat(curr.average);\r\n          return acc;\r\n        }, {}),\r\n        \r\n        bestClass: classStats.data.length > 0 \r\n          ? classStats.data.reduce((prev, current) => \r\n              (prev.average > current.average) ? prev : current\r\n            ).className \r\n          : 'Нет данных',\r\n        worstClass: classStats.data.length > 0 \r\n          ? classStats.data.reduce((prev, current) => \r\n              (prev.average < current.average) ? prev : current\r\n            ).className \r\n          : 'Нет данных'\r\n      });\r\n    } catch (err) {\r\n      toast.error('Ошибка загрузки статистики');\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  // Функция для добавления/редактирования\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setIsLoading(true);\r\n      setError(null);\r\n\r\n      if (modalType === 'teacher') {\r\n        if (!selectedUserId || !fullName.trim()) {\r\n          toast.error('Выберите пользователя и введите полное имя');\r\n          return;\r\n        }\r\n\r\n        const payload = {\r\n          UserID: selectedUserId,\r\n          FullName: fullName,\r\n          ClassroomNumber: classroomNumber || null\r\n        };\r\n\r\n        await axios.post(\r\n          `${API_URL}/teacher`,\r\n          payload,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem('authToken')}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          }\r\n        );\r\n        toast.success('Учитель успешно назначен');\r\n        await fetchTeachers(pagination.teachers.page);\r\n      }\r\n\r\n      else if (modalType === 'edit_teacher') {\r\n        if (!fullName.trim()) {\r\n          toast.error('Введите полное имя');\r\n          return;\r\n        }\r\n\r\n        if (!selectedUserId) {\r\n          toast.error('Выберите пользователя');\r\n          return;\r\n        }\r\n\r\n        const payload = {\r\n          FullName: fullName,\r\n          ClassroomNumber: classroomNumber || null,\r\n          UserID: selectedUserId\r\n        };\r\n\r\n        await axios.put(\r\n          `${API_URL}/teacher/${editId}`,\r\n          payload,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem('authToken')}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          }\r\n        );\r\n        toast.success('Данные учителя успешно обновлены');\r\n        await fetchTeachers(pagination.teachers.page);\r\n      }\r\n\r\n      else if (modalType === 'student' || modalType === 'edit_student') {\r\n        if (!newStudent.name.trim() || !newStudent.class || !newStudent.userId) {\r\n          toast.error('Заполните все поля для ученика');\r\n          return;\r\n        }\r\n      \r\n        const selectedClass = classrooms.find(c => c.Name === newStudent.class);\r\n        if (!selectedClass) {\r\n          toast.error('Выбранный класс не найден');\r\n          return;\r\n        }\r\n      \r\n        const payload = {\r\n          UserID: +newStudent.userId,\r\n          FullName: newStudent.name,\r\n          ClassID: selectedClass.ClassID\r\n        };\r\n      \r\n        if (modalType === 'student') {\r\n          await axios.post(\r\n            `${API_URL}/student`,\r\n            payload,\r\n            {\r\n              headers: {\r\n                Authorization: `Bearer ${localStorage.getItem('authToken')}`,\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          );\r\n          toast.success('Ученик успешно создан');\r\n        } else {\r\n          await axios.put(\r\n            `${API_URL}/student/${editId}`,\r\n            payload,\r\n            {\r\n              headers: {\r\n                Authorization: `Bearer ${localStorage.getItem('authToken')}`,\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          );\r\n          toast.success('Данные ученика успешно обновлены');\r\n        }\r\n        await fetchStudents(pagination.students.page);\r\n      }\r\n\r\n      else if (modalType === 'grades' || modalType === 'edit_grades') {\r\n        if (!newGrades.student || !newGrades.subject1 || !newGrades.subject2 || !newGrades.subject3) {\r\n          toast.error('Заполните все поля для оценок');\r\n          return;\r\n        }\r\n\r\n        if (modalType === 'grades') {\r\n          await axios.post(\r\n            `${API_URL}/grade`,\r\n            {\r\n              StudentName: newGrades.student,\r\n              Subject1Grade: newGrades.subject1,\r\n              Subject2Grade: newGrades.subject2,\r\n              Subject3Grade: newGrades.subject3\r\n            },\r\n            {\r\n              headers: {\r\n                Authorization: `Bearer ${localStorage.getItem('authToken')}`,\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          );\r\n          toast.success('Оценки успешно добавлены');\r\n        } else {\r\n          await axios.put(\r\n            `${API_URL}/grade/${editId}`,\r\n            {\r\n              StudentName: newGrades.student,\r\n              Subject1Grade: newGrades.subject1,\r\n              Subject2Grade: newGrades.subject2,\r\n              Subject3Grade: newGrades.subject3\r\n            },\r\n            {\r\n              headers: {\r\n                Authorization: `Bearer ${localStorage.getItem('authToken')}`,\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          );\r\n          toast.success('Оценки успешно обновлены');\r\n        }\r\n        await fetchGrades(pagination.grades.page);\r\n      }\r\n\r\n      else if (modalType === 'class') {\r\n        if (!newClass.name.trim() || !newClass.academicYear || !newClass.roomNumber) {\r\n          toast.error('Заполните все поля для класса');\r\n          return;\r\n        }\r\n        await axios.post(\r\n          `${API_URL}/class`,\r\n          {\r\n            Name: newClass.name,\r\n            AcademicYear: newClass.academicYear,\r\n            RoomNumber: newClass.roomNumber\r\n          },\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem('authToken')}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          }\r\n        );\r\n        toast.success('Класс успешно создан');\r\n        await fetchClassrooms(pagination.classrooms.page);\r\n      }\r\n      else if (modalType === 'edit_class') {\r\n        if (!newClass.name.trim() || !newClass.academicYear || !newClass.roomNumber) {\r\n          toast.error('Заполните все поля для класса');\r\n          return;\r\n        }\r\n      \r\n        await axios.put(\r\n          `${API_URL}/class/${editId}`,\r\n          {\r\n            Name: newClass.name,\r\n            AcademicYear: newClass.academicYear,\r\n            RoomNumber: newClass.roomNumber\r\n          },\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem('authToken')}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          }\r\n        );\r\n        toast.success('Данные класса успешно обновлены');\r\n        await fetchClassrooms(pagination.classrooms.page);\r\n      }\r\n      \r\n      else if (modalType === 'subject') {\r\n        if (!newSubject.name || !newSubject.teacherId) {\r\n          toast.error('Введите название и выберите учителя');\r\n          return;\r\n        }\r\n        await axios.post(`${API_URL}/subject`, {\r\n          Name: newSubject.name,\r\n          TeacherID: newSubject.teacherId\r\n        }, {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('authToken')}` }\r\n        });\r\n        toast.success('Предмет создан');\r\n        await fetchSubjects(pagination.subjects.page);\r\n      }\r\n      else if (modalType === 'edit_subject') {\r\n        if (!newSubject.name || !newSubject.teacherId) {\r\n          toast.error('Введите название и выберите учителя');\r\n          return;\r\n        }\r\n        await axios.put(`${API_URL}/subject/${editId}`, {\r\n          Name: newSubject.name,\r\n          TeacherID: newSubject.teacherId\r\n        }, {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('authToken')}` }\r\n        });\r\n        toast.success('Данные предмета обновлены');\r\n        await fetchSubjects(pagination.subjects.page);\r\n      }\r\n\r\n      setShowAddModal(false);\r\n      resetForm();\r\n    } catch (err) {\r\n      toast.error(err.response?.data?.message || 'Ошибка при сохранении данных');\r\n      setError(err.response?.data?.details || err.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAdd = (type) => {\r\n    setModalType(type);\r\n    setEditId(null);\r\n    setShowAddModal(true);\r\n    setError(null);\r\n    resetForm();\r\n  };\r\n\r\n  const handleEdit = (type, id) => {\r\n    let data;\r\n    if (type === 'teacher') {\r\n      data = teachers.find(t => t.TeacherID === id);\r\n      setFullName(data.FullName);\r\n      setClassroomNumber(data.ClassroomNumber || '');\r\n      setSelectedUserId(data.UserID);\r\n    } else if (type === 'student') {\r\n      const data = students.find(s => s.StudentID === id);\r\n      setNewStudent({\r\n        name: data.FullName,\r\n        class: data.ClassName,\r\n        userId: data.UserID,\r\n        userQuery: users.find(u => u.UserID === data.UserID)?.Username || ''\r\n      });\r\n    }\r\n    else if (type === 'grades') {\r\n      data = grades.find(g => g.id === id);\r\n      setNewGrades({\r\n        student: data.studentName,\r\n        subject1: data.subject1Grade,\r\n        subject2: data.subject2Grade,\r\n        subject3: data.subject3Grade\r\n      });\r\n    } else if (type === 'user') {\r\n      data = users.find(u => u.UserID === id);\r\n      setNewUser({\r\n        username: data.Username,\r\n        password: '',\r\n        confirmPassword: '',\r\n        role: data.Role\r\n      });\r\n    } else if (type === 'class') {\r\n      data = classrooms.find(c => c.ClassID === id);\r\n      setNewClass({\r\n        name: data.Name,\r\n        academicYear: data.AcademicYear,\r\n        roomNumber: data.RoomNumber\r\n      });\r\n    } else if (type === 'subject') {\r\n      data = subjects.find(s => s.SubjectID === id);\r\n      setNewSubject({\r\n        name: data.Name,\r\n        teacherId: data.TeacherID,\r\n        teacherQuery: data.TeacherName\r\n      });\r\n    }\r\n\r\n    setModalType(`edit_${type}`);\r\n    setEditId(id);\r\n    setShowAddModal(true);\r\n  };\r\n\r\n  const handleDelete = async (id, type) => {\r\n    try {\r\n      setIsLoading(true);\r\n      if (!window.confirm(`Вы уверены, что хотите удалить этот ${type === 'teacher' ? 'учитель' : type === 'student' ? 'ученик' : type === 'user' ? 'пользователь' : type === 'class' ? 'класс' : type === 'subject' ? 'предмет' : 'оценку'}?`)) {\r\n        return;\r\n      }\r\n\r\n      await axios.delete(`${API_URL}/${type}/${id}`, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('authToken')}` }\r\n      });\r\n\r\n      toast.success(`Успешно удалено!`);\r\n\r\n      if (type === 'teacher') await fetchTeachers(pagination.teachers.page);\r\n      else if (type === 'student') await fetchStudents(pagination.students.page);\r\n      else if (type === 'user') await fetchUsers(pagination.users.page);\r\n      else if (type === 'class') await fetchClassrooms(pagination.classrooms.page);\r\n      else if (type === 'subject') await fetchSubjects(pagination.subjects.page);\r\n      else await fetchGrades(pagination.grades.page);\r\n    } catch (err) {\r\n      toast.error(err.response?.data?.message || 'Ошибка при удалении');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleUserSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setIsLoading(true);\r\n\r\n      if (!newUser.username || !newUser.role || (modalType === 'user' && (!newUser.password || !newUser.confirmPassword))) {\r\n        toast.error('Заполните все обязательные поля');\r\n        return;\r\n      }\r\n\r\n      if (modalType === 'user' && newUser.password !== newUser.confirmPassword) {\r\n        toast.error('Пароли не совпадают');\r\n        return;\r\n      }\r\n\r\n      if (modalType === 'user' && newUser.password.length < 6) {\r\n        toast.error('Пароль должен быть не менее 6 символов');\r\n        return;\r\n      }\r\n\r\n      if (modalType === 'edit_user') {\r\n        const payload = {\r\n          Username: newUser.username,\r\n          Role: newUser.role\r\n        };\r\n        if (newUser.password && newUser.confirmPassword) {\r\n          if (newUser.password !== newUser.confirmPassword) {\r\n            toast.error('Пароли не совпадают');\r\n            return;\r\n          }\r\n          if (newUser.password.length < 6) {\r\n            toast.error('Пароль должен быть не менее 6 символов');\r\n            return;\r\n          }\r\n          payload.password = newUser.password;\r\n        }\r\n        \r\n        await axios.put(\r\n          `${API_URL}/user/${editId}`,\r\n          payload,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem('authToken')}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          }\r\n        );\r\n        toast.success('Пользователь обновлен');\r\n      }\r\n      else {\r\n        await axios.post(\r\n          `${API_URL}/user`,\r\n          {\r\n            username: newUser.username,\r\n            password: newUser.password,\r\n            role: newUser.role\r\n          },\r\n          {\r\n            headers: { \r\n              Authorization: `Bearer ${localStorage.getItem('authToken')}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          }\r\n        );\r\n        toast.success('Пользователь успешно создан');\r\n      }\r\n\r\n      await fetchUsers(pagination.users.page);\r\n      setShowAddModal(false);\r\n      resetForm();\r\n    } catch (err) {\r\n      toast.error(err.response?.data?.message || 'Ошибка при сохранении пользователя');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setSelectedUserId('');\r\n    setFullName('');\r\n    setClassroomNumber('');\r\n    setNewStudent({ name: '', class: '', userId: '', userQuery: '' });\r\n    setNewGrades({ student: '', subject1: '', subject2: '', subject3: '' });\r\n    setNewUser({ username: '', password: '', confirmPassword: '', role: 'User' });\r\n    setNewClass({ name: '', academicYear: '', roomNumber: '' });\r\n    setNewSubject({ name: '', teacherId: '', teacherQuery: '' });\r\n    setEditId(null);\r\n    setEditingGrade({ id: null, value: '' }); // Сбрасываем редактирование\r\n  };\r\n\r\n  const exportData = async (type) => {\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await axios.get(`${API_URL}/export/${type}`, {\r\n        responseType: 'blob',\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('authToken')}` }\r\n      });\r\n\r\n      const url = window.URL.createObjectURL(new Blob([response.data]));\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.setAttribute('download', `${type}_export_${new Date().toISOString().split('T')[0]}.xlsx`);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      link.remove();\r\n\r\n      toast.success(`Данные ${type} успешно экспортированы`);\r\n    } catch (err) {\r\n      toast.error(`Ошибка экспорта: ${err.response?.data?.message || err.message}`);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const filteredData = (data, type) => {\r\n    if (!data) return [];\r\n    \r\n    return data.filter(item => {\r\n      const matchesSearch = \r\n        item.FullName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        item.className?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        item.studentName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        item.Username?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        item.Name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        item.TeacherName?.toLowerCase().includes(searchTerm.toLowerCase());\r\n      const studentClassName = type === 'students'\r\n        ? (classrooms.find(c => c.ClassID === item.ClassID)?.Name || '')\r\n        : '';\r\n      \r\n      const matchesFilters = \r\n        (type !== 'teachers' || (\r\n          !filters.teachers.room || item.ClassroomNumber?.toString().includes(filters.teachers.room)\r\n        )) &&\r\n        (type !== 'students' || (\r\n          !filters.students.class ||\r\n          studentClassName.toLowerCase().includes(filters.students.class.toLowerCase())\r\n        )) &&\r\n        (type !== 'grades' || (\r\n          (!filters.grades.subject || (\r\n            item.subject1Name?.includes(filters.grades.subject) ||\r\n            item.subject2Name?.includes(filters.grades.subject) ||\r\n            item.subject3Name?.includes(filters.grades.subject)\r\n          )) &&\r\n          (!filters.grades.minGrade || (\r\n            item.subject1Grade >= +filters.grades.minGrade &&\r\n            item.subject2Grade >= +filters.grades.minGrade &&\r\n            item.subject3Grade >= +filters.grades.minGrade\r\n          )) &&\r\n          (!filters.grades.maxGrade || (\r\n            item.subject1Grade <= +filters.grades.maxGrade &&\r\n            item.subject2Grade <= +filters.grades.maxGrade &&\r\n            item.subject3Grade <= +filters.grades.maxGrade\r\n          ))\r\n        )) &&\r\n        (type !== 'users' || (\r\n          !filters.users.role || item.Role?.includes(filters.users.role)\r\n        )) &&\r\n        (type !== 'classrooms' || (\r\n          !filters.classrooms.academicYear || item.AcademicYear?.toString().includes(filters.classrooms.academicYear)\r\n        )) &&\r\n        (type !== 'subjects' || (\r\n          !filters.subjects.teacher || item.TeacherName?.toLowerCase().includes(filters.subjects.teacher.toLowerCase())\r\n        ));\r\n      \r\n      return matchesSearch && matchesFilters;\r\n    });\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setShowLogoutModal(true);\r\n  };\r\n\r\n  const confirmLogout = () => {\r\n    localStorage.removeItem('authToken');\r\n    navigate('/');\r\n    toast.success('Вы успешно вышли из системы');\r\n  };\r\n\r\n  const cancelLogout = () => {\r\n    setShowLogoutModal(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-dashboard\">\r\n      <ToastContainer\r\n        position=\"top-right\"\r\n        autoClose={5000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n      />\r\n      \r\n      {isLoading && <div className=\"loading-overlay\">Загрузка...</div>}\r\n      \r\n      <header className=\"dashboard-header\">\r\n        <h1>Панель администратора</h1>\r\n        <div className=\"header-controls\">\r\n          <button \r\n            className=\"back-btn\"\r\n            onClick={handleLogout}\r\n            disabled={isLoading}\r\n          >\r\n            <i className=\"fas fa-arrow-left\"></i> Выйти\r\n          </button>\r\n          <div className=\"search-box\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Поиск...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n            />\r\n            <i className=\"fas fa-search\"></i>\r\n          </div>\r\n          <button \r\n            className=\"refresh-btn\"\r\n            onClick={() => {\r\n              if (activeTab === 'teachers') {\r\n                fetchTeachers(pagination.teachers.page);\r\n                fetchUsers(pagination.users.page, 'Teacher');\r\n              }\r\n              else if (activeTab === 'students') fetchStudents(pagination.students.page);\r\n              else if (activeTab === 'grades') fetchGrades(pagination.grades.page);\r\n              else if (activeTab === 'users') fetchUsers(pagination.users.page);\r\n              else if (activeTab === 'classrooms') fetchClassrooms(pagination.classrooms.page);\r\n              else if (activeTab === 'subjects') fetchSubjects(pagination.subjects.page);\r\n              else fetchStats();\r\n            }}\r\n            disabled={isLoading}\r\n          >\r\n            <i className=\"fas fa-sync-alt\"></i> Обновить\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"dashboard-container\">\r\n        <nav className=\"sidebar\">\r\n          <ul>\r\n            <li \r\n              className={activeTab === 'teachers' ? 'active' : ''}\r\n              onClick={() => setActiveTab('teachers')}\r\n            >\r\n              <i className=\"fas fa-chalkboard-teacher\"></i> Учителя\r\n            </li>\r\n            <li \r\n              className={activeTab === 'students' ? 'active' : ''}\r\n              onClick={() => setActiveTab('students')}\r\n            >\r\n              <i className=\"fas fa-user-graduate\"></i> Ученики\r\n            </li>\r\n            <li \r\n              className={activeTab === 'grades' ? 'active' : ''}\r\n              onClick={() => setActiveTab('grades')}\r\n            >\r\n              <i className=\"fas fa-clipboard-list\"></i> Успеваемость\r\n            </li>\r\n            <li \r\n              className={activeTab === 'stats' ? 'active' : ''}\r\n              onClick={() => setActiveTab('stats')}\r\n            >\r\n              <i className=\"fas fa-chart-bar\"></i> Статистика\r\n            </li>\r\n            <li \r\n              className={activeTab === 'users' ? 'active' : ''}\r\n              onClick={() => setActiveTab('users')}\r\n            >\r\n              <i className=\"fas fa-users\"></i> Пользователи\r\n            </li>\r\n            <li \r\n              className={activeTab === 'classrooms' ? 'active' : ''}\r\n              onClick={() => setActiveTab('classrooms')}\r\n            >\r\n              <i className=\"fas fa-school\"></i> Классы\r\n            </li>\r\n            <li\r\n              className={activeTab === 'subjects' ? 'active' : ''}\r\n              onClick={() => setActiveTab('subjects')}\r\n            >\r\n              <i className=\"fas fa-book\"></i> Предметы\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n\r\n        <main className=\"content\">\r\n          {activeTab === 'teachers' && (\r\n            <div className=\"table-section\">\r\n              <div className=\"section-header\">\r\n                <h2>Список учителей</h2>\r\n                <div className=\"section-actions\">\r\n                  <button \r\n                    className=\"export-btn\"\r\n                    onClick={() => exportData('teachers')}\r\n                    disabled={isLoading}\r\n                  >\r\n                    <i className=\"fas fa-file-export\"></i> Экспорт\r\n                  </button>\r\n                  <button \r\n                    className=\"add-btn\" \r\n                    onClick={() => handleAdd('teacher')}\r\n                    disabled={isLoading}\r\n                  >\r\n                    <i className=\"fas fa-plus\"></i> Добавить\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"filters\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Фильтр по кабинету\"\r\n                  value={filters.teachers.room}\r\n                  onChange={(e) => setFilters({\r\n                    ...filters, \r\n                    teachers: {\r\n                      ...filters.teachers, \r\n                      room: e.target.value \r\n                    }\r\n                  })}\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"table-container\">\r\n                <table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>TeacherID</th>\r\n                      <th>UserID</th>\r\n                      <th>ФИО</th>\r\n                      <th>Кабинет</th>\r\n                      <th>Действия</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {filteredData(teachers, 'teachers').map(teacher => (\r\n                      <tr key={teacher.TeacherID}>\r\n                        <td>{teacher.TeacherID}</td>\r\n                        <td>{teacher.UserID}</td>\r\n                        <td>{teacher.FullName}</td>\r\n                        <td>{teacher.ClassroomNumber}</td>\r\n                        <td className=\"actions\">\r\n                          <button \r\n                            className=\"edit-btn\"\r\n                            onClick={() => handleEdit('teacher', teacher.TeacherID)}\r\n                            disabled={isLoading}\r\n                          >\r\n                            <i className=\"fas fa-edit\"></i> Редактировать\r\n                          </button>\r\n                          <button \r\n                            className=\"delete-btn\"\r\n                            onClick={() => handleDelete(teacher.TeacherID, 'teacher')}\r\n                            disabled={isLoading}\r\n                          >\r\n                            <i className=\"fas fa-trash\"></i> Удалить\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              \r\n              <div className=\"pagination\">\r\n                <button \r\n                  onClick={() => fetchTeachers(pagination.teachers.page - 1)}\r\n                  disabled={pagination.teachers.page <= 1 || isLoading}\r\n                >\r\n                  Назад\r\n                </button>\r\n                <span>\r\n                  Страница {pagination.teachers.page} из {' '}\r\n                  {Math.ceil(pagination.teachers.total / pagination.teachers.perPage)}\r\n                </span>\r\n                <button \r\n                  onClick={() => fetchTeachers(pagination.teachers.page + 1)}\r\n                  disabled={\r\n                    pagination.teachers.page * pagination.teachers.perPage >= \r\n                    pagination.teachers.total || isLoading\r\n                  }\r\n                >\r\n                  Вперед\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'students' && (\r\n            <div className=\"table-section\">\r\n              <div className=\"section-header\">\r\n                <h2>Список учеников</h2>\r\n                <div className=\"section-actions\">\r\n                  <button \r\n                    className=\"export-btn\"\r\n                    onClick={() => exportData('students')}\r\n                    disabled={isLoading}\r\n                  >\r\n                    <i className=\"fas fa-file-export\"></i> Экспорт\r\n                  </button>\r\n                  <button \r\n                    className=\"add-btn\" \r\n                    onClick={() => handleAdd('student')}\r\n                    disabled={isLoading}\r\n                  >\r\n                    <i className=\"fas fa-plus\"></i> Добавить\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"filters\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Фильтр по классу\"\r\n                  value={filters.students.class}\r\n                  onChange={(e) => setFilters({\r\n                    ...filters, \r\n                    students: {\r\n                      ...filters.students, \r\n                      class: e.target.value \r\n                    }\r\n                  })}\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"table-container\">\r\n                <table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>ID</th>\r\n                      <th>ФИО</th>\r\n                      <th>Класс</th>\r\n                      <th>Действия</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {filteredData(students, 'students').map(student => {\r\n                      const cls = classrooms.find(c => c.ClassID === student.ClassID);\r\n                      return (\r\n                        <tr key={student.StudentID}>\r\n                          <td>{student.StudentID}</td>\r\n                          <td>{student.FullName}</td>\r\n                          <td>{cls ? cls.Name : '—'}</td>\r\n                          <td className=\"actions\">\r\n                            <button\r\n                              className=\"edit-btn\"\r\n                              onClick={() => handleEdit('student', student.StudentID)}\r\n                              disabled={isLoading}\r\n                            >\r\n                              <i className=\"fas fa-edit\"></i> Редактировать\r\n                            </button>\r\n                            <button\r\n                              className=\"delete-btn\"\r\n                              onClick={() => handleDelete(student.StudentID, 'student')}\r\n                              disabled={isLoading}\r\n                            >\r\n                              <i className=\"fas fa-trash\"></i> Удалить\r\n                            </button>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              \r\n              <div className=\"pagination\">\r\n                <button \r\n                  onClick={() => fetchStudents(pagination.students.page - 1)}\r\n                  disabled={pagination.students.page <= 1 || isLoading}\r\n                >\r\n                  Назад\r\n                </button>\r\n                <span>\r\n                  Страница {pagination.students.page} из {' '}\r\n                  {Math.ceil(pagination.students.total / pagination.students.perPage)}\r\n                </span>\r\n                <button \r\n                  onClick={() => fetchStudents(pagination.students.page + 1)}\r\n                  disabled={\r\n                    pagination.students.page * pagination.students.perPage >= \r\n                    pagination.students.total || isLoading\r\n                  }\r\n                >\r\n                  Вперед\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'grades' && (\r\n            <div className=\"table-section\">\r\n              <div className=\"section-header\">\r\n                <h2>Успеваемость</h2>\r\n                <div className=\"filters\">\r\n                  <label>Класс:</label>\r\n                  <select\r\n                    value={selectedClassForGrades}\r\n                    onChange={e => {\r\n                      setSelectedClassForGrades(+e.target.value);\r\n                      setExpandedStudent(null);\r\n                    }}\r\n                    disabled={isLoading}\r\n                  >\r\n                    <option value=\"\">— Выберите класс —</option>\r\n                    {classrooms.map(c => (\r\n                      <option key={c.ClassID} value={c.ClassID}>\r\n                        {c.Name} ({c.AcademicYear})\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"table-container\">\r\n                <table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Ученик</th>\r\n                      <th>Средний балл по всем предметам</th>\r\n                      <th>Действия</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {studentsAverages.map(s => (\r\n                      <React.Fragment key={s.id}>\r\n                        <tr>\r\n                          <td>{s.name}</td>\r\n                          <td>{s.average != null ? s.average.toFixed(2) : '—'}</td>\r\n                          <td className=\"actions\">\r\n                            <button\r\n                              className=\"edit-btn\"\r\n                              onClick={() => toggleStudent(s.id)}\r\n                              disabled={isLoading}\r\n                            >\r\n                              <i className=\"fas fa-edit\"></i> Редактировать\r\n                            </button>\r\n                          </td>\r\n                        </tr>\r\n\r\n                        {expandedStudent === s.id && (\r\n                          <tr className=\"accordion-row\">\r\n                            <td colSpan={3}>\r\n                              <div className=\"accordion-content\">\r\n                                <div className=\"grades-header\">\r\n                                  <h4>Оценки по предметам</h4>\r\n                                  <div className=\"average-grade\">\r\n                                    Средний балл: <span>{s.average != null ? s.average.toFixed(2) : '—'}</span>\r\n                                  </div>\r\n                                </div>\r\n                                \r\n                                <div className=\"grades-container\">\r\n                                  {grades\r\n                                    .filter(g => g.StudentID === s.id)\r\n                                    .map(g => (\r\n                                      <div key={g.GradeID} className=\"grade-item\">\r\n                                        <div className=\"subject-name\">{g.SubjectName}</div>\r\n                                        \r\n                                        {editingGrade.id === g.GradeID ? (\r\n                                          <div className=\"grade-edit\">\r\n                                            <select\r\n                                              value={editingGrade.value}\r\n                                              onChange={e => setEditingGrade(prev => ({ ...prev, value: e.target.value }))}\r\n                                            >\r\n                                              <option value=\"5\">5 (Отлично)</option>\r\n                                              <option value=\"4\">4 (Хорошо)</option>\r\n                                              <option value=\"3\">3 (Удовлетворительно)</option>\r\n                                              <option value=\"2\">2 (Неудовлетворительно)</option>\r\n                                            </select>\r\n                                            <button onClick={() => saveEditGrade(g.GradeID)}>💾</button>\r\n                                            <button onClick={cancelEditGrade}>✖</button>\r\n                                          </div>\r\n                                        ) : (\r\n                                          <div className=\"grade-display\">\r\n                                            <span className=\"grade-value\">{g.GradeValue}</span>\r\n                                            <button \r\n                                              onClick={() => startEditGrade(g.GradeID, g.GradeValue)}\r\n                                              className=\"edit-grade-btn\"\r\n                                            >\r\n                                              ✎\r\n                                            </button>\r\n                                            <button \r\n                                              onClick={() => handleDelete(g.GradeID, 'grade')}\r\n                                              className=\"delete-grade-btn\"\r\n                                            >\r\n                                              🗑️\r\n                                            </button>\r\n                                          </div>\r\n                                        )}\r\n                                      </div>\r\n                                    ))\r\n                                  }\r\n                                  {grades.filter(g => g.StudentID === s.id).length === 0 && (\r\n                                    <div className=\"no-grades\">Оценок ещё нет</div>\r\n                                  )}\r\n                                </div>\r\n\r\n                                <div className=\"add-grade-form\">\r\n                                  <h5>Добавить новую оценку</h5>\r\n                                  <div className=\"form-row\">\r\n                                    <select\r\n                                      className=\"form-select\"\r\n                                      value={newGradeEntry.subjectId}\r\n                                      onChange={e => setNewGradeEntry(prev => ({\r\n                                        ...prev,\r\n                                        subjectId: e.target.value\r\n                                      }))}\r\n                                    >\r\n                                      <option value=\"\">Выберите предмет</option>\r\n                                      {subjects.map(subj => (\r\n                                        <option key={subj.SubjectID} value={subj.SubjectID}>\r\n                                          {subj.Name}\r\n                                        </option>\r\n                                      ))}\r\n                                    </select>\r\n\r\n                                    <select\r\n                                      className=\"form-select\"\r\n                                      value={newGradeEntry.grade}\r\n                                      onChange={e => setNewGradeEntry(prev => ({\r\n                                        ...prev,\r\n                                        grade: e.target.value\r\n                                      }))}\r\n                                    >\r\n                                      <option value=\"\">Выберите оценку</option>\r\n                                      <option value=\"5\">5 (Отлично)</option>\r\n                                      <option value=\"4\">4 (Хорошо)</option>\r\n                                      <option value=\"3\">3 (Удовлетворительно)</option>\r\n                                      <option value=\"2\">2 (Неудовлетворительно)</option>\r\n                                    </select>\r\n\r\n                                    <button\r\n                                      className=\"add-grade-btn\"\r\n                                      onClick={() => handleAddGradeForStudent(s.id)}\r\n                                    >\r\n                                      Добавить\r\n                                    </button>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        )}\r\n                      </React.Fragment>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'stats' && (\r\n            <div className=\"stats-section\">\r\n              <div className=\"section-header\">\r\n                <h2>Статистика успеваемости</h2>\r\n                <button \r\n                  className=\"refresh-btn\"\r\n                  onClick={fetchStats}\r\n                  disabled={isLoading}\r\n                >\r\n                  <i className=\"fas fa-sync-alt\"></i> Обновить\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"stats-grid\">\r\n                <div className=\"stat-card\">\r\n                  <div className=\"stat-icon bg-red\">\r\n                    <i className=\"fas fa-exclamation-triangle\"></i>\r\n                  </div>\r\n                  <div className=\"stat-info\">\r\n                    <h3>Самый сложный предмет</h3>\r\n                    <p>{stats.worstSubject || 'Нет данных'}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"stat-card\">\r\n                  <div className=\"stat-icon bg-orange\">\r\n                    <i className=\"fas fa-user-times\"></i>\r\n                  </div>\r\n                  <div className=\"stat-info\">\r\n                    <h3>Неуспевающие ученики</h3>\r\n                    <p>{stats.failingStudents}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"stat-card\">\r\n                  <div className=\"stat-icon bg-purple\">\r\n                    <i className=\"fas fa-chalkboard-teacher\"></i>\r\n                  </div>\r\n                  <div className=\"stat-info\">\r\n                    <h3>Самый строгий учитель</h3>\r\n                    <p>{stats.worstTeacher || 'Нет данных'}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"stat-card\">\r\n                  <div className=\"stat-icon bg-blue\">\r\n                    <i className=\"fas fa-users\"></i>\r\n                  </div>\r\n                  <div className=\"stat-info\">\r\n                    <h3>Средние оценки по классам</h3>\r\n                    <ul>\r\n                      {Object.entries(stats.classAverages).map(([cls, avg]) => (\r\n                        <li key={cls}>\r\n                          {cls}: {typeof avg === 'number' ? avg.toFixed(1) : 'Нет данных'}\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"stat-card\">\r\n                  <div className=\"stat-icon bg-green\">\r\n                    <i className=\"fas fa-trophy\"></i>\r\n                  </div>\r\n                  <div className=\"stat-info\">\r\n                    <h3>Лучший класс</h3>\r\n                    <p>{stats.bestClass || 'Нет данных'}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"stat-card\">\r\n                  <div className=\"stat-icon bg-red\">\r\n                    <i className=\"fas fa-sad-tear\"></i>\r\n                  </div>\r\n                  <div className=\"stat-info\">\r\n                    <h3>Худший класс</h3>\r\n                    <p>{stats.worstClass || 'Нет данных'}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'users' && (\r\n            <div className=\"table-section\">\r\n              <div className=\"section-header\">\r\n                <h2>Список пользователей</h2>\r\n                <div className=\"section-actions\">\r\n                  <button \r\n                    className=\"export-btn\"\r\n                    onClick={() => exportData('users')}\r\n                    disabled={isLoading}\r\n                  >\r\n                    <i className=\"fas fa-file-export\"></i> Экспорт\r\n                  </button>\r\n                  <button \r\n                    className=\"add-btn\" \r\n                    onClick={() => handleAdd('user')}\r\n                    disabled={isLoading}\r\n                  >\r\n                    <i className=\"fas fa-plus\"></i> Добавить\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"filters\">\r\n                <select\r\n                  value={filters.users.role}\r\n                  onChange={(e) => setFilters({\r\n                    ...filters, \r\n                    users: {\r\n                      ...filters.users, \r\n                      role: e.target.value \r\n                    }\r\n                  })}\r\n                >\r\n                  <option value=\"\">Все роли</option>\r\n                  <option value=\"Admin\">Администратор</option>\r\n                  <option value=\"Teacher\">Учитель</option>\r\n                  <option value=\"Student\">Ученик</option>\r\n                  <option value=\"User\">Пользователь</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div className=\"table-container\">\r\n                <table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>ID</th>\r\n                      <th>Логин</th>\r\n                      <th>Роль</th>\r\n                      <th>Действия</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {filteredData(users, 'users').map(user => (\r\n                      <tr key={user.UserID}>\r\n                        <td>{user.UserID}</td>\r\n                        <td>{user.Username}</td>\r\n                        <td>{user.Role}</td>\r\n                        <td className=\"actions\">\r\n                          <button \r\n                            className=\"edit-btn\"\r\n                            onClick={() => handleEdit('user', user.UserID)}\r\n                            disabled={isLoading || user.Role === 'Admin'}\r\n                          >\r\n                            <i className=\"fas fa-edit\"></i> Редактировать\r\n                          </button>\r\n                          <button \r\n                            className=\"delete-btn\"\r\n                            onClick={() => handleDelete(user.UserID, 'user')}\r\n                            disabled={isLoading || user.Role === 'Admin'}\r\n                          >\r\n                            <i className=\"fas fa-trash\"></i> Удалить\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              \r\n              <div className=\"pagination\">\r\n                <button \r\n                  onClick={() => fetchUsers(pagination.users.page - 1)}\r\n                  disabled={pagination.users.page <= 1 || isLoading}\r\n                >\r\n                  Назад\r\n                </button>\r\n                <span>\r\n                  Страница {pagination.users.page} из {' '}\r\n                  {Math.ceil(pagination.users.total / pagination.users.perPage)}\r\n                </span>\r\n                <button \r\n                  onClick={() => fetchUsers(pagination.users.page + 1)}\r\n                  disabled={\r\n                    pagination.users.page * pagination.users.perPage >= \r\n                    pagination.users.total || isLoading\r\n                  }\r\n                >\r\n                  Вперед\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'classrooms' && (\r\n            <div className=\"table-section\">\r\n              <div className=\"section-header\">\r\n                <h2>Список классов</h2>\r\n                <div className=\"section-actions\">\r\n                  <button\r\n                    className=\"export-btn\"\r\n                    onClick={() => exportData('classes')}\r\n                    disabled={isLoading}\r\n                  >\r\n                    <i className=\"fas fa-file-export\"></i> Экспорт\r\n                  </button>\r\n                  <button\r\n                    className=\"add-btn\"\r\n                    onClick={() => handleAdd('class')}\r\n                    disabled={isLoading}\r\n                  >\r\n                    <i className=\"fas fa-plus\"></i> Добавить\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"filters\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Фильтр по году обучения\"\r\n                  value={filters.classrooms.academicYear}\r\n                  onChange={(e) => setFilters({\r\n                    ...filters, \r\n                    classrooms: {\r\n                      ...filters.classrooms, \r\n                      academicYear: e.target.value \r\n                    }\r\n                  })}\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"table-container\">\r\n                <table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>ClassID</th>\r\n                      <th>Название</th>\r\n                      <th>Год обучения</th>\r\n                      <th>Кабинет</th>\r\n                      <th>Действия</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {filteredData(classrooms, 'classrooms').map(cls => (\r\n                      <tr key={cls.ClassID}>\r\n                        <td>{cls.ClassID}</td>\r\n                        <td>{cls.Name}</td>\r\n                        <td>{cls.AcademicYear}</td>\r\n                        <td>{cls.RoomNumber}</td>\r\n                        <td className=\"actions\">\r\n                          <button\r\n                            className=\"edit-btn\"\r\n                            onClick={() => handleEdit('class', cls.ClassID)}\r\n                            disabled={isLoading}\r\n                          >\r\n                            <i className=\"fas fa-edit\"></i> Редактировать\r\n                          </button>\r\n                          <button\r\n                            className=\"delete-btn\"\r\n                            onClick={() => handleDelete(cls.ClassID, 'class')}\r\n                            disabled={isLoading}\r\n                          >\r\n                            <i className=\"fas fa-trash\"></i> Удалить\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              \r\n              <div className=\"pagination\">\r\n                <button \r\n                  onClick={() => fetchClassrooms(pagination.classrooms.page - 1)}\r\n                  disabled={pagination.classrooms.page <= 1 || isLoading}\r\n                >\r\n                  Назад\r\n                </button>\r\n                <span>\r\n                  Страница {pagination.classrooms.page} из {' '}\r\n                  {Math.ceil(pagination.classrooms.total / pagination.classrooms.perPage)}\r\n                </span>\r\n                <button \r\n                  onClick={() => fetchClassrooms(pagination.classrooms.page + 1)}\r\n                  disabled={\r\n                    pagination.classrooms.page * pagination.classrooms.perPage >= \r\n                    pagination.classrooms.total || isLoading\r\n                  }\r\n                >\r\n                  Вперед\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'subjects' && (\r\n            <div className=\"table-section\">\r\n              <div className=\"section-header\">\r\n                <h2>Список предметов</h2>\r\n                <div className=\"section-actions\">\r\n                  <button\r\n                    className=\"add-btn\"\r\n                    onClick={() => handleAdd('subject')}\r\n                    disabled={isLoading}\r\n                  >\r\n                    <i className=\"fas fa-plus\"></i> Добавить\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div className=\"filters\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Фильтр по учителю\"\r\n                  value={filters.subjects.teacher}\r\n                  onChange={(e) => setFilters({\r\n                    ...filters,\r\n                    subjects: {\r\n                      ...filters.subjects,\r\n                      teacher: e.target.value\r\n                    }\r\n                  })}\r\n                />\r\n              </div>\r\n              <div className=\"table-container\">\r\n                <table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>ID</th>\r\n                      <th>Название</th>\r\n                      <th>Учитель</th>\r\n                      <th>Действия</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {filteredData(subjects, 'subjects').map(subj => (\r\n                      <tr key={subj.SubjectID}>\r\n                        <td>{subj.SubjectID}</td>\r\n                        <td>{subj.Name}</td>\r\n                        <td>{subj.TeacherName}</td>\r\n                        <td className=\"actions\">\r\n                          <button\r\n                            className=\"edit-btn\"\r\n                            onClick={() => handleEdit('subject', subj.SubjectID)}\r\n                            disabled={isLoading}\r\n                          >\r\n                            <i className=\"fas fa-edit\"></i> Редактировать\r\n                          </button>\r\n                          <button\r\n                            className=\"delete-btn\"\r\n                            onClick={() => handleDelete(subj.SubjectID, 'subject')}\r\n                            disabled={isLoading}\r\n                          >\r\n                            <i className=\"fas fa-trash\"></i> Удалить\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              <div className=\"pagination\">\r\n                <button\r\n                  onClick={() => fetchSubjects(pagination.subjects.page - 1)}\r\n                  disabled={pagination.subjects.page <= 1 || isLoading}\r\n                >\r\n                  Назад\r\n                </button>\r\n                <span>\r\n                  Страница {pagination.subjects.page} из {' '}\r\n                  {Math.ceil(pagination.subjects.total / pagination.subjects.perPage)}\r\n                </span>\r\n                <button\r\n                  onClick={() => fetchSubjects(pagination.subjects.page + 1)}\r\n                  disabled={\r\n                    pagination.subjects.page * pagination.subjects.perPage >=\r\n                    pagination.subjects.total || isLoading\r\n                  }\r\n                >\r\n                  Вперед\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </main>\r\n      </div>\r\n\r\n      {showLogoutModal && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal\">\r\n            <h2>Подтверждение выхода</h2>\r\n            <p>Вы уверены, что хотите выйти из системы?</p>\r\n            <div className=\"modal-actions\">\r\n              <button \r\n                className=\"cancel-btn\"\r\n                onClick={cancelLogout}\r\n              >\r\n                Остаться\r\n              </button>\r\n              <button \r\n                className=\"confirm-btn\"\r\n                onClick={confirmLogout}\r\n              >\r\n                Да, выйти\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {showAddModal && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal\">\r\n            <button \r\n              className=\"close-modal\" \r\n              onClick={() => {\r\n                setShowAddModal(false);\r\n                resetForm();\r\n              }}\r\n              disabled={isLoading}\r\n            >\r\n              <i className=\"fas fa-times\"></i>\r\n            </button>\r\n            \r\n            <h2>\r\n              {modalType === 'teacher' && 'Назначить учителя'}\r\n              {modalType === 'edit_teacher' && 'Редактировать учителя'}\r\n              {modalType === 'student' && 'Добавить ученика'}\r\n              {modalType === 'edit_student' && 'Редактировать ученика'}\r\n              {modalType === 'grades' && 'Добавить оценки'}\r\n              {modalType === 'edit_grades' && 'Редактировать оценки'}\r\n              {modalType === 'user' && 'Добавить пользователя'}\r\n              {modalType === 'edit_user' && 'Редактировать пользователя'}\r\n              {modalType === 'class' && 'Добавить класс'}\r\n              {modalType === 'edit_class' && 'Редактировать класс'}\r\n              {modalType === 'subject' && 'Добавить предмет'}\r\n              {modalType === 'edit_subject' && 'Редактировать предмет'}\r\n            </h2>\r\n            \r\n            {error && <div className=\"error-message\">{error}</div>}\r\n            \r\n            <form \r\n              onSubmit={\r\n                modalType.includes('user') ? handleUserSubmit : handleSubmit\r\n              }\r\n            >\r\n              {(modalType === 'user' || modalType === 'edit_user') && (\r\n                <>\r\n                  <div className=\"form-group\">\r\n                    <label>Логин</label>\r\n                    <input \r\n                      type=\"text\" \r\n                      value={newUser.username}\r\n                      onChange={(e) => setNewUser({\r\n                        ...newUser, \r\n                        username: e.target.value\r\n                      })}\r\n                      required\r\n                      disabled={isLoading}\r\n                    />\r\n                  </div>\r\n                  \r\n                  {(modalType === 'user' || (modalType === 'edit_user' && newUser.password)) && (\r\n                    <>\r\n                      <div className=\"form-group\">\r\n                        <label>Пароль</label>\r\n                        <input \r\n                          type=\"password\" \r\n                          value={newUser.password}\r\n                          onChange={(e) => setNewUser({\r\n                            ...newUser, \r\n                            password: e.target.value\r\n                          })}\r\n                          required={modalType === 'user'}\r\n                          disabled={isLoading}\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <label>Подтверждение пароля</label>\r\n                        <input \r\n                          type=\"password\" \r\n                          value={newUser.confirmPassword}\r\n                          onChange={(e) => setNewUser({\r\n                            ...newUser, \r\n                            confirmPassword: e.target.value\r\n                          })}\r\n                          required={modalType === 'user'}\r\n                          disabled={isLoading}\r\n                        />\r\n                      </div>\r\n                    </>\r\n                  )}\r\n                  \r\n                  <div className=\"form-group\">\r\n                    <label>Роль</label>\r\n                    <select\r\n                      value={newUser.role}\r\n                      onChange={(e) => setNewUser({\r\n                        ...newUser, \r\n                        role: e.target.value\r\n                      })}\r\n                      required\r\n                      disabled={isLoading}\r\n                    >\r\n                      <option value=\"User\">Пользователь</option>\r\n                      <option value=\"Student\">Ученик</option>\r\n                      <option value=\"Teacher\">Учитель</option>\r\n                      <option value=\"Admin\">Администратор</option>\r\n                    </select>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {(modalType === 'teacher' || modalType === 'edit_teacher') && (\r\n                <>\r\n                  <div className=\"form-group\">\r\n                    <label>Пользователь</label>\r\n                    <select\r\n  value={newStudent.userId}\r\n  onChange={e => {\r\n    const selectedId = e.target.value;\r\n    setNewStudent({ \r\n      ...newStudent, \r\n      userId: selectedId,\r\n      userQuery: users.find(u => u.UserID === +selectedId)?.Username || ''\r\n    });\r\n    setSelectedUserId(selectedId); // <— вот сюда\r\n  }}\r\n  required\r\n  disabled={isLoading}\r\n>\r\n                      <option value=\"\">— Выберите пользователя —</option>\r\n                      {users\r\n                        .filter(u => u.Role === 'Student')\r\n                        .map(u => (\r\n                          <option key={u.UserID} value={u.UserID}>\r\n                            {u.Username} (ID={u.UserID})\r\n                          </option>\r\n                        ))\r\n                      }\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label>ФИО</label>\r\n                    <input \r\n                      type=\"text\" \r\n                      placeholder=\"Полное имя\"\r\n                      value={fullName}\r\n                      onChange={(e) => setFullName(e.target.value)}\r\n                      required\r\n                      disabled={isLoading}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label>Кабинет</label>\r\n                    <input \r\n                      type=\"number\" \r\n                      placeholder=\"Номер кабинета\"\r\n                      value={classroomNumber}\r\n                      onChange={(e) => setClassroomNumber(e.target.value)}\r\n                      disabled={isLoading}\r\n                    />\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {(modalType === 'student' || modalType === 'edit_student') && (\r\n                <>\r\n                  <div className=\"form-group\">\r\n                    <label>Пользователь</label>\r\n                    <select\r\n                      value={newStudent.userId}\r\n                      onChange={e => setNewStudent({ \r\n                        ...newStudent, \r\n                        userId: +e.target.value,\r\n                        userQuery: users.find(u => u.UserID === +e.target.value)?.Username || ''\r\n                      })}\r\n                      required\r\n                      disabled={isLoading}\r\n                    >\r\n                      <option value=\"\">— Выберите пользователя —</option>\r\n                      {users\r\n                        .filter(u => u.Role === 'Student')\r\n                        .map(u => (\r\n                          <option key={u.UserID} value={u.UserID}>\r\n                            {u.Username} (ID={u.UserID})\r\n                          </option>\r\n                        ))\r\n                      }\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label>ФИО</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Полное имя\"\r\n                      value={newStudent.name}\r\n                      onChange={e => setNewStudent({ ...newStudent, name: e.target.value })}\r\n                      required\r\n                      disabled={isLoading}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label>Класс</label>\r\n                    <select\r\n                      value={newStudent.class}\r\n                      onChange={e => setNewStudent({ ...newStudent, class: e.target.value })}\r\n                      required\r\n                      disabled={isLoading}\r\n                    >\r\n                      <option value=\"\">Выберите класс</option>\r\n                      {classrooms.map(cls => (\r\n                        <option key={cls.ClassID} value={cls.Name}>\r\n                          {cls.Name} ({cls.AcademicYear})\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {(modalType === 'grades' || modalType === 'edit_grades') && (\r\n                <>\r\n                  <div className=\"form-group\">\r\n                    <label>Ученик</label>\r\n                    <select\r\n                      value={newGrades.student}\r\n                      onChange={(e) => setNewGrades({\r\n                        ...newGrades, \r\n                        student: e.target.value\r\n                      })}\r\n                      required\r\n                      disabled={isLoading}\r\n                    >\r\n                      <option value=\"\">Выберите ученика</option>\r\n                      {students.map(student => (\r\n                        <option key={student.id} value={student.fullName}>\r\n                          {student.fullName} ({student.className})\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"grades-grid\">\r\n                    <div className=\"form-group\">\r\n                      <label>Математика</label>\r\n                      <select\r\n                        value={newGrades.subject1}\r\n                        onChange={(e) => setNewGrades({\r\n                          ...newGrades, \r\n                          subject1: e.target.value\r\n                        })}\r\n                        required\r\n                        disabled={isLoading}\r\n                      >\r\n                        <option value=\"\">Выберите оценку</option>\r\n                        <option value=\"5\">5 (Отлично)</option>\r\n                        <option value=\"4\">4 (Хорошо)</option>\r\n                        <option value=\"3\">3 (Удовлетворительно)</option>\r\n                        <option value=\"2\">2 (Неудовлетворительно)</option>\r\n                      </select>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label>Физика</label>\r\n                      <select\r\n                        value={newGrades.subject2}\r\n                        onChange={(e) => setNewGrades({\r\n                          ...newGrades, \r\n                          subject2: e.target.value\r\n                        })}\r\n                        required\r\n                        disabled={isLoading}\r\n                      >\r\n                        <option value=\"\">Выберите оценку</option>\r\n                        <option value=\"5\">5 (Отлично)</option>\r\n                        <option value=\"4\">4 (Хорошо)</option>\r\n                        <option value=\"3\">3 (Удовлетворительно)</option>\r\n                        <option value=\"2\">2 (Неудовлетворительно)</option>\r\n                      </select>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label>Литература</label>\r\n                      <select\r\n                        value={newGrades.subject3}\r\n                        onChange={(e) => setNewGrades({\r\n                          ...newGrades, \r\n                          subject3: e.target.value\r\n                        })}\r\n                        required\r\n                        disabled={isLoading}\r\n                      >\r\n                        <option value=\"\">Выберите оценку</option>\r\n                        <option value=\"5\">5 (Отлично)</option>\r\n                        <option value=\"4\">4 (Хорошо)</option>\r\n                        <option value=\"3\">3 (Удовлетворительно)</option>\r\n                        <option value=\"2\">2 (Неудовлетворительно)</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {(modalType === 'class' || modalType === 'edit_class') && (\r\n                <>\r\n                  <div className=\"form-group\">\r\n                    <label>Название класса</label>\r\n                    <input \r\n                      type=\"text\" \r\n                      value={newClass.name}\r\n                      onChange={(e) => setNewClass({\r\n                        ...newClass, \r\n                        name: e.target.value\r\n                      })}\r\n                      required\r\n                      disabled={isLoading}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label>Год обучения</label>\r\n                    <input \r\n                      type=\"number\" \r\n                      value={newClass.academicYear}\r\n                      onChange={(e) => setNewClass({\r\n                        ...newClass, \r\n                        academicYear: e.target.value\r\n                      })}\r\n                      required\r\n                      disabled={isLoading}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label>Номер кабинета</label>\r\n                    <input \r\n                      type=\"number\" \r\n                      value={newClass.roomNumber}\r\n                      onChange={(e) => setNewClass({\r\n                        ...newClass, \r\n                        roomNumber: e.target.value\r\n                      })}\r\n                      required\r\n                      disabled={isLoading}\r\n                    />\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {(modalType === 'subject' || modalType === 'edit_subject') && (\r\n                <>\r\n                  <div className=\"form-group\">\r\n                    <label>Название предмета</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newSubject.name}\r\n                      onChange={e => setNewSubject({...newSubject, name: e.target.value})}\r\n                      required\r\n                      disabled={isLoading}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label>Учитель</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newSubject.teacherQuery}\r\n                      onChange={(e) => {\r\n                        const selectedTeacher = teachers.find(t => t.FullName === e.target.value);\r\n                        setNewSubject({\r\n                          ...newSubject,\r\n                          teacherQuery: e.target.value,\r\n                          teacherId: selectedTeacher ? selectedTeacher.TeacherID : ''\r\n                        });\r\n                      }}\r\n                      placeholder=\"Начните вводить ФИО...\"\r\n                      list=\"teacher-list\"\r\n                      required\r\n                      disabled={isLoading}\r\n                    />\r\n                    <datalist id=\"teacher-list\">\r\n                      {teachers.map(t => (\r\n                        <option key={t.TeacherID} value={t.FullName} data-id={t.TeacherID}/>\r\n                      ))}\r\n                    </datalist>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              <div className=\"form-actions\">\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"cancel-btn\" \r\n                  onClick={() => {\r\n                    setShowAddModal(false);\r\n                    resetForm();\r\n                  }}\r\n                  disabled={isLoading}\r\n                >\r\n                  Отмена\r\n                </button>\r\n                <button \r\n                  type=\"submit\" \r\n                  className=\"submit-btn\"\r\n                  disabled={isLoading}\r\n                >\r\n                  {isLoading ? (\r\n                    <>\r\n                      <i className=\"fas fa-spinner fa-spin\"></i> Обработка...\r\n                    </>\r\n                  ) : modalType.startsWith('edit_') ? 'Сохранить изменения' : 'Добавить'}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}