{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\danii\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\School\\\\school-app\\\\front\\\\src\\\\AdminDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jwtDecode } from 'jwt-decode';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './AdminDashboard.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AdminDashboard = () => {\n  _s();\n  const API_URL = \"http://localhost:5000/api\";\n  const navigate = useNavigate();\n\n  // Состояния для управления интерфейсом\n  const [activeTab, setActiveTab] = useState('teachers');\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showLogoutModal, setShowLogoutModal] = useState(false);\n  const [modalType, setModalType] = useState('');\n  const [editId, setEditId] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Основные данные\n  const [teachers, setTeachers] = useState([]);\n  const [students, setStudents] = useState([]);\n  const [grades, setGrades] = useState([]);\n  const [stats, setStats] = useState({\n    worstSubject: '',\n    failingStudents: 0,\n    worstTeacher: '',\n    classAverages: {},\n    bestClass: '',\n    worstClass: ''\n  });\n\n  // Состояния для форм\n  const [newTeacher, setNewTeacher] = useState({\n    FullName: '',\n    // Исправлено с name на FullName\n    Subject: '',\n    ClassroomNumber: ''\n  });\n  const [newStudent, setNewStudent] = useState({\n    FullName: '',\n    ClassID: ''\n  });\n  const [newGrade, setNewGrade] = useState({\n    StudentID: '',\n    SubjectID: '',\n    GradeValue: ''\n  });\n\n  // Пагинация\n  const [pagination, setPagination] = useState({\n    teachers: {\n      page: 1,\n      perPage: 10,\n      total: 0\n    },\n    students: {\n      page: 1,\n      perPage: 10,\n      total: 0\n    },\n    grades: {\n      page: 1,\n      perPage: 10,\n      total: 0\n    }\n  });\n\n  // Фильтры\n  const [filters, setFilters] = useState({\n    teachers: {\n      Subject: '',\n      ClassroomNumber: ''\n    },\n    students: {\n      ClassID: ''\n    },\n    grades: {\n      SubjectID: '',\n      GradeValue: ''\n    }\n  });\n\n  // Проверка авторизации и роли\n  useEffect(() => {\n    const token = localStorage.getItem('authToken');\n    if (!token || jwtDecode(token).role !== 'Admin') {\n      navigate('/');\n      toast.warning('Доступ запрещен. Требуются права администратора.');\n    }\n  }, [navigate]);\n\n  // Загрузка данных при монтировании и смене вкладки\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        setIsLoading(true);\n        switch (activeTab) {\n          case 'teachers':\n            await fetchTeachers();\n            break;\n          case 'students':\n            await fetchStudents();\n            break;\n          case 'grades':\n            await fetchGrades();\n            break;\n          case 'stats':\n            await fetchStats();\n            break;\n        }\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    loadData();\n  }, [activeTab]);\n\n  // API функции\n  const fetchTeachers = async (page = 1) => {\n    try {\n      const response = await axios.get(`${API_URL}/teacher`, {\n        params: {\n          page,\n          limit: pagination.teachers.perPage,\n          search: searchTerm,\n          ...filters.teachers\n        },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      setTeachers(response.data);\n      setPagination(prev => ({\n        ...prev,\n        teachers: {\n          ...prev.teachers,\n          page,\n          total: response.data.totalCount || response.data.length\n        }\n      }));\n    } catch (err) {\n      toast.error('Ошибка загрузки учителей');\n      throw err;\n    }\n  };\n  const fetchStudents = async (page = 1) => {\n    try {\n      const response = await axios.get(`${API_URL}/student`, {\n        params: {\n          page,\n          limit: pagination.students.perPage,\n          search: searchTerm,\n          ...filters.students\n        },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      setStudents(response.data);\n      setPagination(prev => ({\n        ...prev,\n        students: {\n          ...prev.students,\n          page,\n          total: response.data.totalCount || response.data.length\n        }\n      }));\n    } catch (err) {\n      toast.error('Ошибка загрузки студентов');\n      throw err;\n    }\n  };\n  const fetchGrades = async (page = 1) => {\n    try {\n      const response = await axios.get(`${API_URL}/grade`, {\n        params: {\n          page,\n          limit: pagination.grades.perPage,\n          search: searchTerm,\n          ...filters.grades\n        },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      setGrades(response.data);\n      setPagination(prev => ({\n        ...prev,\n        grades: {\n          ...prev.grades,\n          page,\n          total: response.data.totalCount || response.data.length\n        }\n      }));\n    } catch (err) {\n      toast.error('Ошибка загрузки оценок');\n      throw err;\n    }\n  };\n  const fetchStats = async () => {\n    try {\n      var _subjects$data$, _subjects$data$2;\n      const [subjects, failing, classes] = await Promise.all([axios.get(`${API_URL}/report/subjects`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      }), axios.get(`${API_URL}/report/failing`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      }), axios.get(`${API_URL}/report/classes`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      })]);\n      setStats({\n        worstSubject: ((_subjects$data$ = subjects.data[0]) === null || _subjects$data$ === void 0 ? void 0 : _subjects$data$.Name) || 'Нет данных',\n        failingStudents: failing.data.count || 0,\n        worstTeacher: ((_subjects$data$2 = subjects.data[0]) === null || _subjects$data$2 === void 0 ? void 0 : _subjects$data$2.TeacherName) || 'Нет данных',\n        classAverages: classes.data.reduce((acc, curr) => {\n          acc[curr.ClassName] = curr.AverageGrade;\n          return acc;\n        }, {}),\n        bestClass: classes.data.length > 0 ? classes.data.reduce((a, b) => a.AverageGrade > b.AverageGrade ? a : b).ClassName : 'Нет данных',\n        worstClass: classes.data.length > 0 ? classes.data.reduce((a, b) => a.AverageGrade < b.AverageGrade ? a : b).ClassName : 'Нет данных'\n      });\n    } catch (err) {\n      toast.error('Ошибка загрузки статистики');\n      throw err;\n    }\n  };\n\n  // Обработчики действий\n  const handleAdd = type => {\n    setModalType(type);\n    setEditId(null);\n    setShowAddModal(true);\n    setError(null);\n    resetForm();\n  };\n  const handleEdit = (type, id) => {\n    const data = type === 'teacher' ? teachers.find(t => t.TeacherID === id) : type === 'student' ? students.find(s => s.StudentID === id) : grades.find(g => g.GradeID === id);\n    if (type === 'teacher') {\n      setNewTeacher({\n        FullName: data.FullName,\n        Subject: data.Subject,\n        ClassroomNumber: data.ClassroomNumber\n      });\n    } else if (type === 'student') {\n      setNewStudent({\n        FullName: data.FullName,\n        ClassID: data.ClassID\n      });\n    } else {\n      setNewGrade({\n        StudentID: data.StudentID,\n        SubjectID: data.SubjectID,\n        GradeValue: data.GradeValue\n      });\n    }\n    setModalType(`edit_${type}`);\n    setEditId(id);\n    setShowAddModal(true);\n  };\n  const handleDelete = async (id, type) => {\n    try {\n      setIsLoading(true);\n      if (!window.confirm(`Вы уверены, что хотите удалить этот ${type === 'teacher' ? 'учителя' : type === 'student' ? 'ученика' : 'оценку'}?`)) {\n        return;\n      }\n      await axios.delete(`${API_URL}/${type}/${id}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      toast.success(`Успешно удалено!`);\n\n      // Обновляем данные\n      if (type === 'teacher') await fetchTeachers(pagination.teachers.page);else if (type === 'student') await fetchStudents(pagination.students.page);else await fetchGrades(pagination.grades.page);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      toast.error(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Ошибка при удалении');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      setIsLoading(true);\n\n      // Валидация перед отправкой\n      if (modalType.includes('teacher') && !newTeacher.FullName.trim()) {\n        throw new Error('Поле \"ФИО\" обязательно для заполнения');\n      }\n      const config = {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      };\n      if (modalType.startsWith('edit_')) {\n        const editType = modalType.split('_')[1];\n        const endpoint = `${API_URL}/${editType}/${editId}`;\n        if (editType === 'teacher') {\n          await axios.put(endpoint, {\n            FullName: newTeacher.FullName,\n            Subject: newTeacher.Subject,\n            ClassroomNumber: newTeacher.ClassroomNumber\n          }, config);\n        } else if (editType === 'student') {\n          await axios.put(endpoint, {\n            FullName: newStudent.FullName,\n            ClassID: newStudent.ClassID\n          }, config);\n        } else {\n          await axios.put(endpoint, {\n            StudentID: newGrade.StudentID,\n            SubjectID: newGrade.SubjectID,\n            GradeValue: newGrade.GradeValue\n          }, config);\n        }\n        toast.success('Данные успешно обновлены!');\n      } else {\n        const type = modalType;\n        if (type === 'teacher') {\n          await axios.post(`${API_URL}/teacher`, {\n            FullName: newTeacher.FullName,\n            Subject: newTeacher.Subject,\n            ClassroomNumber: newTeacher.ClassroomNumber\n          }, config);\n        } else if (type === 'student') {\n          await axios.post(`${API_URL}/student`, {\n            FullName: newStudent.FullName,\n            ClassID: newStudent.ClassID\n          }, config);\n        } else {\n          await axios.post(`${API_URL}/grade`, {\n            StudentID: newGrade.StudentID,\n            SubjectID: newGrade.SubjectID,\n            GradeValue: newGrade.GradeValue\n          }, config);\n        }\n        toast.success('Данные успешно добавлены!');\n      }\n\n      // Обновляем данные\n      if (modalType.includes('teacher')) await fetchTeachers();else if (modalType.includes('student')) await fetchStudents();else await fetchGrades();\n      setShowAddModal(false);\n      resetForm();\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error('Ошибка при сохранении:', err);\n      toast.error(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || err.message || 'Ошибка при сохранении');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const resetForm = () => {\n    setNewTeacher({\n      FullName: '',\n      Subject: '',\n      ClassroomNumber: ''\n    });\n    setNewStudent({\n      FullName: '',\n      ClassID: ''\n    });\n    setNewGrade({\n      StudentID: '',\n      SubjectID: '',\n      GradeValue: ''\n    });\n    setEditId(null);\n  };\n  const exportData = async type => {\n    try {\n      setIsLoading(true);\n      const response = await axios.get(`${API_URL}/export/${type}`, {\n        responseType: 'blob',\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `${type}_export_${new Date().toISOString().split('T')[0]}.xlsx`);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n      toast.success(`Данные ${type} успешно экспортированы`);\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      toast.error(`Ошибка экспорта: ${((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || err.message}`);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleLogout = () => {\n    setShowLogoutModal(true);\n  };\n  const confirmLogout = () => {\n    localStorage.removeItem('authToken');\n    navigate('/');\n    toast.success('Вы успешно вышли из системы');\n  };\n  const cancelLogout = () => {\n    setShowLogoutModal(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-right\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      newestOnTop: false,\n      closeOnClick: true,\n      rtl: false,\n      pauseOnFocusLoss: true,\n      draggable: true,\n      pauseOnHover: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 7\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-overlay\",\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u041F\\u0430\\u043D\\u0435\\u043B\\u044C \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-btn\",\n          onClick: handleLogout,\n          disabled: isLoading,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-arrow-left\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this), \" \\u0412\\u044B\\u0439\\u0442\\u0438\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"refresh-btn\",\n          onClick: () => {\n            if (activeTab === 'teachers') fetchTeachers();else if (activeTab === 'students') fetchStudents();else if (activeTab === 'grades') fetchGrades();else fetchStats();\n          },\n          disabled: isLoading,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-sync-alt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 13\n          }, this), \" \\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"sidebar\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: activeTab === 'teachers' ? 'active' : '',\n            onClick: () => setActiveTab('teachers'),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-chalkboard-teacher\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 15\n            }, this), \" \\u0423\\u0447\\u0438\\u0442\\u0435\\u043B\\u044F\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: activeTab === 'students' ? 'active' : '',\n            onClick: () => setActiveTab('students'),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-user-graduate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 15\n            }, this), \" \\u0423\\u0447\\u0435\\u043D\\u0438\\u043A\\u0438\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: activeTab === 'grades' ? 'active' : '',\n            onClick: () => setActiveTab('grades'),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-clipboard-list\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 15\n            }, this), \" \\u0423\\u0441\\u043F\\u0435\\u0432\\u0430\\u0435\\u043C\\u043E\\u0441\\u0442\\u044C\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: activeTab === 'stats' ? 'active' : '',\n            onClick: () => setActiveTab('stats'),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-chart-bar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 15\n            }, this), \" \\u0421\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"content\",\n        children: [activeTab === 'teachers' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0443\\u0447\\u0438\\u0442\\u0435\\u043B\\u0435\\u0439\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"export-btn\",\n                onClick: () => exportData('teachers'),\n                disabled: isLoading,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-file-export\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 21\n                }, this), \" \\u042D\\u043A\\u0441\\u043F\\u043E\\u0440\\u0442\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"add-btn\",\n                onClick: () => handleAdd('teacher'),\n                disabled: isLoading,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-plus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 510,\n                  columnNumber: 21\n                }, this), \" \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filters\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440 \\u043F\\u043E \\u043F\\u0440\\u0435\\u0434\\u043C\\u0435\\u0442\\u0443\",\n              value: filters.teachers.Subject,\n              onChange: e => setFilters({\n                ...filters,\n                teachers: {\n                  ...filters.teachers,\n                  Subject: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440 \\u043F\\u043E \\u043A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\\u0443\",\n              value: filters.teachers.ClassroomNumber,\n              onChange: e => setFilters({\n                ...filters,\n                teachers: {\n                  ...filters.teachers,\n                  ClassroomNumber: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-container\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 546,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0424\\u0418\\u041E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 547,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u041F\\u0440\\u0435\\u0434\\u043C\\u0435\\u0442\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 548,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u041A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 549,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 550,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 545,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: teachers.map(teacher => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: teacher.TeacherID\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 556,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: teacher.FullName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 557,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: teacher.Subject\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 558,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: teacher.ClassroomNumber\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 559,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"actions\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"edit-btn\",\n                      onClick: () => handleEdit('teacher', teacher.TeacherID),\n                      disabled: isLoading,\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 566,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 561,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"delete-btn\",\n                      onClick: () => handleDelete(teacher.TeacherID, 'teacher'),\n                      disabled: isLoading,\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-trash\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 573,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 568,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 560,\n                    columnNumber: 25\n                  }, this)]\n                }, teacher.TeacherID, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 555,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pagination\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => fetchTeachers(pagination.teachers.page - 1),\n              disabled: pagination.teachers.page <= 1 || isLoading,\n              children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \", pagination.teachers.page, \" \\u0438\\u0437 \", ' ', Math.ceil(pagination.teachers.total / pagination.teachers.perPage)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => fetchTeachers(pagination.teachers.page + 1),\n              disabled: pagination.teachers.page * pagination.teachers.perPage >= pagination.teachers.total || isLoading,\n              children: \"\\u0412\\u043F\\u0435\\u0440\\u0435\\u0434\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 593,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 13\n        }, this), showAddModal && (modalType === 'teacher' || modalType === 'edit_teacher') && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-overlay\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"close-modal\",\n              onClick: () => {\n                setShowAddModal(false);\n                resetForm();\n              },\n              disabled: isLoading,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-times\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: modalType === 'teacher' ? 'Добавить учителя' : 'Редактировать учителя'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 17\n            }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0424\\u0418\\u041E *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 631,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: newTeacher.FullName,\n                  onChange: e => setNewTeacher({\n                    ...newTeacher,\n                    FullName: e.target.value\n                  }),\n                  required: true,\n                  disabled: isLoading,\n                  placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u043E\\u043B\\u043D\\u043E\\u0435 \\u0438\\u043C\\u044F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 632,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 630,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u041F\\u0440\\u0435\\u0434\\u043C\\u0435\\u0442\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 645,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: newTeacher.Subject,\n                  onChange: e => setNewTeacher({\n                    ...newTeacher,\n                    Subject: e.target.value\n                  }),\n                  disabled: isLoading,\n                  placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0440\\u0435\\u0434\\u043C\\u0435\\u0442\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 646,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u041A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 658,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: newTeacher.ClassroomNumber,\n                  onChange: e => setNewTeacher({\n                    ...newTeacher,\n                    ClassroomNumber: e.target.value\n                  }),\n                  disabled: isLoading,\n                  placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u043E\\u043C\\u0435\\u0440 \\u043A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 659,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 657,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"cancel-btn\",\n                  onClick: () => {\n                    setShowAddModal(false);\n                    resetForm();\n                  },\n                  disabled: isLoading,\n                  children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 672,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"submit-btn\",\n                  disabled: isLoading,\n                  children: isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-spinner fa-spin\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 690,\n                      columnNumber: 27\n                    }, this), \" \\u041E\\u0431\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0430...\"]\n                  }, void 0, true) : modalType === 'teacher' ? 'Добавить' : 'Сохранить'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 683,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 671,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 629,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 13\n        }, this), showLogoutModal && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-overlay\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u0435 \\u0432\\u044B\\u0445\\u043E\\u0434\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B, \\u0447\\u0442\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0432\\u044B\\u0439\\u0442\\u0438 \\u0438\\u0437 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u044B?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 705,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"cancel-btn\",\n                onClick: cancelLogout,\n                children: \"\\u041E\\u0441\\u0442\\u0430\\u0442\\u044C\\u0441\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 707,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"confirm-btn\",\n                onClick: confirmLogout,\n                children: \"\\u0414\\u0430, \\u0432\\u044B\\u0439\\u0442\\u0438\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 713,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 706,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 703,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 413,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminDashboard, \"jieoQZYm5Ii51Y6Mw6FV+xrfo8s=\", false, function () {\n  return [useNavigate];\n});\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jwtDecode","ToastContainer","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminDashboard","_s","API_URL","navigate","activeTab","setActiveTab","showAddModal","setShowAddModal","showLogoutModal","setShowLogoutModal","modalType","setModalType","editId","setEditId","searchTerm","setSearchTerm","isLoading","setIsLoading","error","setError","teachers","setTeachers","students","setStudents","grades","setGrades","stats","setStats","worstSubject","failingStudents","worstTeacher","classAverages","bestClass","worstClass","newTeacher","setNewTeacher","FullName","Subject","ClassroomNumber","newStudent","setNewStudent","ClassID","newGrade","setNewGrade","StudentID","SubjectID","GradeValue","pagination","setPagination","page","perPage","total","filters","setFilters","token","localStorage","getItem","role","warning","loadData","fetchTeachers","fetchStudents","fetchGrades","fetchStats","err","message","response","get","params","limit","search","headers","Authorization","data","prev","totalCount","length","_subjects$data$","_subjects$data$2","subjects","failing","classes","Promise","all","Name","count","TeacherName","reduce","acc","curr","ClassName","AverageGrade","a","b","handleAdd","type","resetForm","handleEdit","id","find","t","TeacherID","s","g","GradeID","handleDelete","window","confirm","delete","success","_err$response","_err$response$data","handleSubmit","e","preventDefault","includes","trim","Error","config","startsWith","editType","split","endpoint","put","post","_err$response2","_err$response2$data","console","exportData","responseType","url","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","Date","toISOString","body","appendChild","click","remove","_err$response3","_err$response3$data","handleLogout","confirmLogout","removeItem","cancelLogout","className","children","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","placeholder","value","onChange","target","map","teacher","Math","ceil","onSubmit","required","_c","$RefreshReg$"],"sources":["C:/Users/danii/OneDrive/Рабочий стол/School/school-app/front/src/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { jwtDecode } from 'jwt-decode';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './AdminDashboard.css';\r\n\r\nconst AdminDashboard = () => {\r\n  const API_URL = \"http://localhost:5000/api\";\r\n  const navigate = useNavigate();\r\n\r\n  // Состояния для управления интерфейсом\r\n  const [activeTab, setActiveTab] = useState('teachers');\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [showLogoutModal, setShowLogoutModal] = useState(false);\r\n  const [modalType, setModalType] = useState('');\r\n  const [editId, setEditId] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Основные данные\r\n  const [teachers, setTeachers] = useState([]);\r\n  const [students, setStudents] = useState([]);\r\n  const [grades, setGrades] = useState([]);\r\n  const [stats, setStats] = useState({\r\n    worstSubject: '',\r\n    failingStudents: 0,\r\n    worstTeacher: '',\r\n    classAverages: {},\r\n    bestClass: '',\r\n    worstClass: ''\r\n  });\r\n\r\n  // Состояния для форм\r\n  const [newTeacher, setNewTeacher] = useState({ \r\n    FullName: '',  // Исправлено с name на FullName\r\n    Subject: '', \r\n    ClassroomNumber: '' \r\n  });\r\n  const [newStudent, setNewStudent] = useState({ \r\n    FullName: '', \r\n    ClassID: '' \r\n  });\r\n  const [newGrade, setNewGrade] = useState({ \r\n    StudentID: '', \r\n    SubjectID: '', \r\n    GradeValue: '' \r\n  });\r\n\r\n  // Пагинация\r\n  const [pagination, setPagination] = useState({\r\n    teachers: { page: 1, perPage: 10, total: 0 },\r\n    students: { page: 1, perPage: 10, total: 0 },\r\n    grades: { page: 1, perPage: 10, total: 0 }\r\n  });\r\n\r\n  // Фильтры\r\n  const [filters, setFilters] = useState({\r\n    teachers: { Subject: '', ClassroomNumber: '' },\r\n    students: { ClassID: '' },\r\n    grades: { SubjectID: '', GradeValue: '' }\r\n  });\r\n\r\n  // Проверка авторизации и роли\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('authToken');\r\n    if (!token || jwtDecode(token).role !== 'Admin') {\r\n      navigate('/');\r\n      toast.warning('Доступ запрещен. Требуются права администратора.');\r\n    }\r\n  }, [navigate]);\r\n\r\n  // Загрузка данных при монтировании и смене вкладки\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        switch (activeTab) {\r\n          case 'teachers':\r\n            await fetchTeachers();\r\n            break;\r\n          case 'students':\r\n            await fetchStudents();\r\n            break;\r\n          case 'grades':\r\n            await fetchGrades();\r\n            break;\r\n          case 'stats':\r\n            await fetchStats();\r\n            break;\r\n        }\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    loadData();\r\n  }, [activeTab]);\r\n\r\n  // API функции\r\n  const fetchTeachers = async (page = 1) => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/teacher`, {\r\n        params: { \r\n          page, \r\n          limit: pagination.teachers.perPage,\r\n          search: searchTerm,\r\n          ...filters.teachers\r\n        },\r\n        headers: { \r\n          Authorization: `Bearer ${localStorage.getItem('authToken')}` \r\n        }\r\n      });\r\n      \r\n      setTeachers(response.data);\r\n      setPagination(prev => ({\r\n        ...prev,\r\n        teachers: {\r\n          ...prev.teachers,\r\n          page,\r\n          total: response.data.totalCount || response.data.length\r\n        }\r\n      }));\r\n    } catch (err) {\r\n      toast.error('Ошибка загрузки учителей');\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const fetchStudents = async (page = 1) => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/student`, {\r\n        params: { \r\n          page, \r\n          limit: pagination.students.perPage,\r\n          search: searchTerm,\r\n          ...filters.students\r\n        },\r\n        headers: { \r\n          Authorization: `Bearer ${localStorage.getItem('authToken')}` \r\n        }\r\n      });\r\n      \r\n      setStudents(response.data);\r\n      setPagination(prev => ({\r\n        ...prev,\r\n        students: {\r\n          ...prev.students,\r\n          page,\r\n          total: response.data.totalCount || response.data.length\r\n        }\r\n      }));\r\n    } catch (err) {\r\n      toast.error('Ошибка загрузки студентов');\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const fetchGrades = async (page = 1) => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/grade`, {\r\n        params: { \r\n          page, \r\n          limit: pagination.grades.perPage,\r\n          search: searchTerm,\r\n          ...filters.grades\r\n        },\r\n        headers: { \r\n          Authorization: `Bearer ${localStorage.getItem('authToken')}` \r\n        }\r\n      });\r\n      \r\n      setGrades(response.data);\r\n      setPagination(prev => ({\r\n        ...prev,\r\n        grades: {\r\n          ...prev.grades,\r\n          page,\r\n          total: response.data.totalCount || response.data.length\r\n        }\r\n      }));\r\n    } catch (err) {\r\n      toast.error('Ошибка загрузки оценок');\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const fetchStats = async () => {\r\n    try {\r\n      const [subjects, failing, classes] = await Promise.all([\r\n        axios.get(`${API_URL}/report/subjects`, {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('authToken')}` }\r\n        }),\r\n        axios.get(`${API_URL}/report/failing`, {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('authToken')}` }\r\n        }),\r\n        axios.get(`${API_URL}/report/classes`, {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('authToken')}` }\r\n        })\r\n      ]);\r\n\r\n      setStats({\r\n        worstSubject: subjects.data[0]?.Name || 'Нет данных',\r\n        failingStudents: failing.data.count || 0,\r\n        worstTeacher: subjects.data[0]?.TeacherName || 'Нет данных',\r\n        classAverages: classes.data.reduce((acc, curr) => {\r\n          acc[curr.ClassName] = curr.AverageGrade;\r\n          return acc;\r\n        }, {}),\r\n        bestClass: classes.data.length > 0 \r\n          ? classes.data.reduce((a, b) => a.AverageGrade > b.AverageGrade ? a : b).ClassName \r\n          : 'Нет данных',\r\n        worstClass: classes.data.length > 0 \r\n          ? classes.data.reduce((a, b) => a.AverageGrade < b.AverageGrade ? a : b).ClassName \r\n          : 'Нет данных'\r\n      });\r\n    } catch (err) {\r\n      toast.error('Ошибка загрузки статистики');\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  // Обработчики действий\r\n  const handleAdd = (type) => {\r\n    setModalType(type);\r\n    setEditId(null);\r\n    setShowAddModal(true);\r\n    setError(null);\r\n    resetForm();\r\n  };\r\n\r\n  const handleEdit = (type, id) => {\r\n    const data = \r\n      type === 'teacher' ? teachers.find(t => t.TeacherID === id) :\r\n      type === 'student' ? students.find(s => s.StudentID === id) :\r\n      grades.find(g => g.GradeID === id);\r\n    \r\n    if (type === 'teacher') {\r\n      setNewTeacher({\r\n        FullName: data.FullName,\r\n        Subject: data.Subject,\r\n        ClassroomNumber: data.ClassroomNumber\r\n      });\r\n    } else if (type === 'student') {\r\n      setNewStudent({\r\n        FullName: data.FullName,\r\n        ClassID: data.ClassID\r\n      });\r\n    } else {\r\n      setNewGrade({\r\n        StudentID: data.StudentID,\r\n        SubjectID: data.SubjectID,\r\n        GradeValue: data.GradeValue\r\n      });\r\n    }\r\n    \r\n    setModalType(`edit_${type}`);\r\n    setEditId(id);\r\n    setShowAddModal(true);\r\n  };\r\n\r\n  const handleDelete = async (id, type) => {\r\n    try {\r\n      setIsLoading(true);\r\n      if (!window.confirm(`Вы уверены, что хотите удалить этот ${type === 'teacher' ? 'учителя' : type === 'student' ? 'ученика' : 'оценку'}?`)) {\r\n        return;\r\n      }\r\n\r\n      await axios.delete(`${API_URL}/${type}/${id}`, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('authToken')}` }\r\n      });\r\n\r\n      toast.success(`Успешно удалено!`);\r\n      \r\n      // Обновляем данные\r\n      if (type === 'teacher') await fetchTeachers(pagination.teachers.page);\r\n      else if (type === 'student') await fetchStudents(pagination.students.page);\r\n      else await fetchGrades(pagination.grades.page);\r\n    } catch (err) {\r\n      toast.error(err.response?.data?.message || 'Ошибка при удалении');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setIsLoading(true);\r\n      \r\n      // Валидация перед отправкой\r\n      if (modalType.includes('teacher') && !newTeacher.FullName.trim()) {\r\n        throw new Error('Поле \"ФИО\" обязательно для заполнения');\r\n      }\r\n\r\n      const config = {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('authToken')}` }\r\n      };\r\n\r\n      if (modalType.startsWith('edit_')) {\r\n        const editType = modalType.split('_')[1];\r\n        const endpoint = `${API_URL}/${editType}/${editId}`;\r\n        \r\n        if (editType === 'teacher') {\r\n          await axios.put(endpoint, {\r\n            FullName: newTeacher.FullName,\r\n            Subject: newTeacher.Subject,\r\n            ClassroomNumber: newTeacher.ClassroomNumber\r\n          }, config);\r\n        } else if (editType === 'student') {\r\n          await axios.put(endpoint, {\r\n            FullName: newStudent.FullName,\r\n            ClassID: newStudent.ClassID\r\n          }, config);\r\n        } else {\r\n          await axios.put(endpoint, {\r\n            StudentID: newGrade.StudentID,\r\n            SubjectID: newGrade.SubjectID,\r\n            GradeValue: newGrade.GradeValue\r\n          }, config);\r\n        }\r\n        \r\n        toast.success('Данные успешно обновлены!');\r\n      } else {\r\n        const type = modalType;\r\n        if (type === 'teacher') {\r\n          await axios.post(`${API_URL}/teacher`, {\r\n            FullName: newTeacher.FullName,\r\n            Subject: newTeacher.Subject,\r\n            ClassroomNumber: newTeacher.ClassroomNumber\r\n          }, config);\r\n        } else if (type === 'student') {\r\n          await axios.post(`${API_URL}/student`, {\r\n            FullName: newStudent.FullName,\r\n            ClassID: newStudent.ClassID\r\n          }, config);\r\n        } else {\r\n          await axios.post(`${API_URL}/grade`, {\r\n            StudentID: newGrade.StudentID,\r\n            SubjectID: newGrade.SubjectID,\r\n            GradeValue: newGrade.GradeValue\r\n          }, config);\r\n        }\r\n        \r\n        toast.success('Данные успешно добавлены!');\r\n      }\r\n\r\n      // Обновляем данные\r\n      if (modalType.includes('teacher')) await fetchTeachers();\r\n      else if (modalType.includes('student')) await fetchStudents();\r\n      else await fetchGrades();\r\n\r\n      setShowAddModal(false);\r\n      resetForm();\r\n    } catch (err) {\r\n      console.error('Ошибка при сохранении:', err);\r\n      toast.error(err.response?.data?.message || err.message || 'Ошибка при сохранении');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setNewTeacher({ FullName: '', Subject: '', ClassroomNumber: '' });\r\n    setNewStudent({ FullName: '', ClassID: '' });\r\n    setNewGrade({ StudentID: '', SubjectID: '', GradeValue: '' });\r\n    setEditId(null);\r\n  };\r\n\r\n  const exportData = async (type) => {\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await axios.get(`${API_URL}/export/${type}`, {\r\n        responseType: 'blob',\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('authToken')}` }\r\n      });\r\n      \r\n      const url = window.URL.createObjectURL(new Blob([response.data]));\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.setAttribute('download', `${type}_export_${new Date().toISOString().split('T')[0]}.xlsx`);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      link.remove();\r\n      \r\n      toast.success(`Данные ${type} успешно экспортированы`);\r\n    } catch (err) {\r\n      toast.error(`Ошибка экспорта: ${err.response?.data?.message || err.message}`);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setShowLogoutModal(true);\r\n  };\r\n\r\n  const confirmLogout = () => {\r\n    localStorage.removeItem('authToken');\r\n    navigate('/');\r\n    toast.success('Вы успешно вышли из системы');\r\n  };\r\n\r\n  const cancelLogout = () => {\r\n    setShowLogoutModal(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-dashboard\">\r\n      <ToastContainer\r\n        position=\"top-right\"\r\n        autoClose={5000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n      />\r\n      \r\n      {isLoading && <div className=\"loading-overlay\">Загрузка...</div>}\r\n      \r\n      <header className=\"dashboard-header\">\r\n        <h1>Панель администратора</h1>\r\n        <div className=\"header-controls\">\r\n          <button \r\n            className=\"back-btn\"\r\n            onClick={handleLogout}\r\n            disabled={isLoading}\r\n          >\r\n            <i className=\"fas fa-arrow-left\"></i> Выйти\r\n          </button>\r\n          <div className=\"search-box\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Поиск...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n            />\r\n            <i className=\"fas fa-search\"></i>\r\n          </div>\r\n          <button \r\n            className=\"refresh-btn\"\r\n            onClick={() => {\r\n              if (activeTab === 'teachers') fetchTeachers();\r\n              else if (activeTab === 'students') fetchStudents();\r\n              else if (activeTab === 'grades') fetchGrades();\r\n              else fetchStats();\r\n            }}\r\n            disabled={isLoading}\r\n          >\r\n            <i className=\"fas fa-sync-alt\"></i> Обновить\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"dashboard-container\">\r\n        <nav className=\"sidebar\">\r\n          <ul>\r\n            <li \r\n              className={activeTab === 'teachers' ? 'active' : ''}\r\n              onClick={() => setActiveTab('teachers')}\r\n            >\r\n              <i className=\"fas fa-chalkboard-teacher\"></i> Учителя\r\n            </li>\r\n            <li \r\n              className={activeTab === 'students' ? 'active' : ''}\r\n              onClick={() => setActiveTab('students')}\r\n            >\r\n              <i className=\"fas fa-user-graduate\"></i> Ученики\r\n            </li>\r\n            <li \r\n              className={activeTab === 'grades' ? 'active' : ''}\r\n              onClick={() => setActiveTab('grades')}\r\n            >\r\n              <i className=\"fas fa-clipboard-list\"></i> Успеваемость\r\n            </li>\r\n            <li \r\n              className={activeTab === 'stats' ? 'active' : ''}\r\n              onClick={() => setActiveTab('stats')}\r\n            >\r\n              <i className=\"fas fa-chart-bar\"></i> Статистика\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n\r\n        <main className=\"content\">\r\n          {activeTab === 'teachers' && (\r\n            <div className=\"table-section\">\r\n              <div className=\"section-header\">\r\n                <h2>Список учителей</h2>\r\n                <div className=\"section-actions\">\r\n                  <button \r\n                    className=\"export-btn\"\r\n                    onClick={() => exportData('teachers')}\r\n                    disabled={isLoading}\r\n                  >\r\n                    <i className=\"fas fa-file-export\"></i> Экспорт\r\n                  </button>\r\n                  <button \r\n                    className=\"add-btn\" \r\n                    onClick={() => handleAdd('teacher')}\r\n                    disabled={isLoading}\r\n                  >\r\n                    <i className=\"fas fa-plus\"></i> Добавить\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"filters\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Фильтр по предмету\"\r\n                  value={filters.teachers.Subject}\r\n                  onChange={(e) => setFilters({\r\n                    ...filters, \r\n                    teachers: {\r\n                      ...filters.teachers, \r\n                      Subject: e.target.value \r\n                    }\r\n                  })}\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Фильтр по кабинету\"\r\n                  value={filters.teachers.ClassroomNumber}\r\n                  onChange={(e) => setFilters({\r\n                    ...filters, \r\n                    teachers: {\r\n                      ...filters.teachers, \r\n                      ClassroomNumber: e.target.value \r\n                    }\r\n                  })}\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"table-container\">\r\n                <table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>ID</th>\r\n                      <th>ФИО</th>\r\n                      <th>Предмет</th>\r\n                      <th>Кабинет</th>\r\n                      <th>Действия</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {teachers.map(teacher => (\r\n                      <tr key={teacher.TeacherID}>\r\n                        <td>{teacher.TeacherID}</td>\r\n                        <td>{teacher.FullName}</td>\r\n                        <td>{teacher.Subject}</td>\r\n                        <td>{teacher.ClassroomNumber}</td>\r\n                        <td className=\"actions\">\r\n                          <button \r\n                            className=\"edit-btn\"\r\n                            onClick={() => handleEdit('teacher', teacher.TeacherID)}\r\n                            disabled={isLoading}\r\n                          >\r\n                            <i className=\"fas fa-edit\"></i>\r\n                          </button>\r\n                          <button \r\n                            className=\"delete-btn\"\r\n                            onClick={() => handleDelete(teacher.TeacherID, 'teacher')}\r\n                            disabled={isLoading}\r\n                          >\r\n                            <i className=\"fas fa-trash\"></i>\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              \r\n              <div className=\"pagination\">\r\n                <button \r\n                  onClick={() => fetchTeachers(pagination.teachers.page - 1)}\r\n                  disabled={pagination.teachers.page <= 1 || isLoading}\r\n                >\r\n                  Назад\r\n                </button>\r\n                <span>\r\n                  Страница {pagination.teachers.page} из {' '}\r\n                  {Math.ceil(pagination.teachers.total / pagination.teachers.perPage)}\r\n                </span>\r\n                <button \r\n                  onClick={() => fetchTeachers(pagination.teachers.page + 1)}\r\n                  disabled={\r\n                    pagination.teachers.page * pagination.teachers.perPage >= \r\n                    pagination.teachers.total || isLoading\r\n                  }\r\n                >\r\n                  Вперед\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Аналогичные секции для students, grades и stats */}\r\n\r\n          {/* Модальное окно для учителей */}\r\n          {showAddModal && (modalType === 'teacher' || modalType === 'edit_teacher') && (\r\n            <div className=\"modal-overlay\">\r\n              <div className=\"modal\">\r\n                <button \r\n                  className=\"close-modal\" \r\n                  onClick={() => {\r\n                    setShowAddModal(false);\r\n                    resetForm();\r\n                  }}\r\n                  disabled={isLoading}\r\n                >\r\n                  <i className=\"fas fa-times\"></i>\r\n                </button>\r\n                \r\n                <h2>\r\n                  {modalType === 'teacher' ? 'Добавить учителя' : 'Редактировать учителя'}\r\n                </h2>\r\n                \r\n                {error && <div className=\"error-message\">{error}</div>}\r\n                \r\n                <form onSubmit={handleSubmit}>\r\n                  <div className=\"form-group\">\r\n                    <label>ФИО *</label>\r\n                    <input \r\n                      type=\"text\" \r\n                      value={newTeacher.FullName}\r\n                      onChange={(e) => setNewTeacher({\r\n                        ...newTeacher, \r\n                        FullName: e.target.value\r\n                      })}\r\n                      required\r\n                      disabled={isLoading}\r\n                      placeholder=\"Введите полное имя\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label>Предмет</label>\r\n                    <input \r\n                      type=\"text\" \r\n                      value={newTeacher.Subject}\r\n                      onChange={(e) => setNewTeacher({\r\n                        ...newTeacher, \r\n                        Subject: e.target.value\r\n                      })}\r\n                      disabled={isLoading}\r\n                      placeholder=\"Введите предмет\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label>Кабинет</label>\r\n                    <input \r\n                      type=\"text\" \r\n                      value={newTeacher.ClassroomNumber}\r\n                      onChange={(e) => setNewTeacher({\r\n                        ...newTeacher, \r\n                        ClassroomNumber: e.target.value\r\n                      })}\r\n                      disabled={isLoading}\r\n                      placeholder=\"Введите номер кабинета\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"form-actions\">\r\n                    <button \r\n                      type=\"button\" \r\n                      className=\"cancel-btn\" \r\n                      onClick={() => {\r\n                        setShowAddModal(false);\r\n                        resetForm();\r\n                      }}\r\n                      disabled={isLoading}\r\n                    >\r\n                      Отмена\r\n                    </button>\r\n                    <button \r\n                      type=\"submit\" \r\n                      className=\"submit-btn\"\r\n                      disabled={isLoading}\r\n                    >\r\n                      {isLoading ? (\r\n                        <>\r\n                          <i className=\"fas fa-spinner fa-spin\"></i> Обработка...\r\n                        </>\r\n                      ) : modalType === 'teacher' ? 'Добавить' : 'Сохранить'}\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Модальное окно подтверждения выхода */}\r\n          {showLogoutModal && (\r\n            <div className=\"modal-overlay\">\r\n              <div className=\"modal\">\r\n                <h2>Подтверждение выхода</h2>\r\n                <p>Вы уверены, что хотите выйти из системы?</p>\r\n                <div className=\"modal-actions\">\r\n                  <button \r\n                    className=\"cancel-btn\"\r\n                    onClick={cancelLogout}\r\n                  >\r\n                    Остаться\r\n                  </button>\r\n                  <button \r\n                    className=\"confirm-btn\"\r\n                    onClick={confirmLogout}\r\n                  >\r\n                    Да, выйти\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}